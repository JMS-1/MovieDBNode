import{a as pe}from"./chunk-OTHDGDYQ.js";import"./chunk-YRIJ4CPT.js";import{a as de}from"./chunk-74EQGU3B.js";import{a as ae,b as ce,d as ge}from"./chunk-KDYSHZA5.js";import{a as le}from"./chunk-BFAWAEOW.js";import{a as se}from"./chunk-TFOTRYPM.js";import{a as _e}from"./chunk-7SXYKM7Q.js";import{A as O,B as p,E as F,F as z,G as W,H as x,J as q,L as C,M as R,N as f,O as c,P as ne,T as S,U as te,V as K,X as T,aa as L,ba as w,ca as k,da as b,fa as oe,g as X,j as u,ja as Q,k as m,ka as N,la as re,m as ee,ma as B,n as r,na as j,o as M,p as E,q as V,r as ie,s as G,t as o,v as s,w as d,x as g,y as A,z as _}from"./chunk-WC7MP575.js";var Y=t=>({error:t}),ye=(t,v)=>({edit:t,eye:v}),Pe=t=>({active:t});function Ie(t,v){if(t&1){let e=A();s(0,"i",11),O("click",function(){u(e);let i=p();return m(i.addLink());}),d();}}function he(t,v){if(t&1&&(s(0,"a",14),x(1),d()),t&2){let e=v.$implicit;o("href",e.url,ee)("title",e.description),r(),q("\xA0",e.name,"\xA0");}}function Ge(t,v){if(t&1&&(s(0,"div",12),G(1,he,2,3,"a",13),d()),t&2){let e=p();r(),o("ngForOf",e.links);}}function Ae(t,v){if(t&1){let e=A();s(0,"div",16),O("click",function(){let i=u(e).$implicit,l=p(2);return m(l.active=i);}),x(1),d();}if(t&2){let e=v.$implicit,n=p(2);o("ngClass",c(2,Pe,e===n.active)),r(),q(" \xA0",e.name,"\xA0 ");}}function De(t,v){if(t&1&&(s(0,"div",12),G(1,Ae,2,4,"div",15),d()),t&2){let e=p();r(),o("ngForOf",e.links);}}function $e(t,v){if(t&1){let e=A();s(0,"div",17)(1,"div",18)(2,"label"),_(3,1),d(),s(4,"div",19)(5,"input",20),f("ngModelChange",function(i){u(e);let l=p();return R(l.name,i)||(l.name=i),m(i);}),d()()(),g(6,"app-validation-errors",21),s(7,"div",18)(8,"label"),_(9,2),d(),s(10,"div",19)(11,"input",20),f("ngModelChange",function(i){u(e);let l=p();return R(l.url,i)||(l.url=i),m(i);}),d()()(),g(12,"app-validation-errors",21),s(13,"div",5)(14,"label"),_(15,3),d(),s(16,"div",19)(17,"textarea",22),f("ngModelChange",function(i){u(e);let l=p();return R(l.description,i)||(l.description=i),m(i);}),d()()(),g(18,"app-validation-errors",21),s(19,"button",23),O("click",function(){u(e);let i=p();return m(i.delLink());}),_(20,4),d()();}if(t&2){let e=p();r(),o("ngClass",c(9,Y,e.edit.validationErrors==null?null:e.edit.validationErrors["links["+e.current+"].name"])),r(4),C("ngModel",e.name),r(),o("list",e.edit.validationErrors==null?null:e.edit.validationErrors["links["+e.current+"].name"]),r(),o("ngClass",c(11,Y,e.edit.validationErrors==null?null:e.edit.validationErrors["links["+e.current+"].url"])),r(4),C("ngModel",e.url),r(),o("list",e.edit.validationErrors==null?null:e.edit.validationErrors["links["+e.current+"].url"]),r(),o("ngClass",c(13,Y,e.edit.validationErrors==null?null:e.edit.validationErrors["links["+e.current+"].description"])),r(4),C("ngModel",e.description),r(),o("list",e.edit.validationErrors==null?null:e.edit.validationErrors["links["+e.current+"].description"]);}}var me=(()=>{class t{constructor(){this.active=void 0,this.expanded=!1;}get links(){return this.edit.links||[];}addLink(){let e={name:"",url:""};this.edit.links=[...(this.edit.links||[]),e],this.active=e;}delLink(){let e=this.edit.links||[],n=e.findIndex(i=>i===this.active);n>=0&&(e.splice(n,1),this.edit.links=e);}get current(){return this.edit.links?.findIndex(e=>e===this.active)??-1;}validate(){this.edit.links=this.edit.links||[];}get name(){return this.active?.name||"";}set name(e){this.active&&(this.active.name=e,this.validate());}get url(){return this.active?.url||"";}set url(e){this.active&&(this.active.url=e,this.validate());}get description(){return this.active?.description||"";}set description(e){this.active&&(this.active.description=e,this.validate());}static{this.ɵfac=function(n){return new(n||t)();};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-link"]],inputs:{edit:"edit"},decls:9,vars:11,consts:()=>{let e;e="Links";let n;n="Name";let i;i="URL";let l;l="Description";let a;return a="Delete",[e,n,i,l,a,[1,"field",3,"ngClass"],[1,"label"],[1,"ui","link","icon",3,"click","ngClass"],["class","ui link add icon",3,"click",4,"ngIf"],["class","links",4,"ngIf"],["class","ui form edit",4,"ngIf"],[1,"ui","link","add","icon",3,"click"],[1,"links"],["target","_blank","class","ui button",3,"href","title",4,"ngFor","ngForOf"],["target","_blank",1,"ui","button",3,"href","title"],["class","ui button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ui","button",3,"click","ngClass"],[1,"ui","form","edit"],[1,"required","field",3,"ngClass"],[1,"ui","input"],["type","text",3,"ngModelChange","ngModel"],[3,"list"],["row","5",3,"ngModelChange","ngModel"],[1,"ui","negative","button",3,"click"]];},template:function(n,i){n&1&&(s(0,"div",5)(1,"label",6)(2,"div"),_(3,0),d(),s(4,"i",7),O("click",function(){return i.expanded=!i.expanded;}),d(),G(5,Ie,1,0,"i",8),d(),G(6,Ge,2,1,"div",9)(7,De,2,1,"div",9)(8,$e,21,15,"div",10),d()),n&2&&(o("ngClass",c(6,Y,i.edit.validationErrors==null?null:i.edit.validationErrors.series)),r(4),o("ngClass",ne(8,ye,!i.expanded,i.expanded)),r(),o("ngIf",i.expanded),r(),o("ngIf",!i.expanded),r(),o("ngIf",i.expanded),r(),o("ngIf",i.expanded&&i.current>=0));},dependencies:[T,S,te,K,b,L,w,k,N],styles:[".field[_ngcontent-%COMP%]{padding-bottom:1em}.field[_ngcontent-%COMP%] > label.label[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto;column-gap:.5em;align-items:center;justify-content:flex-start}.field[_ngcontent-%COMP%] > .edit[_ngcontent-%COMP%]{margin:1em 1em 0}"]});}}return t;})();var Le=t=>({error:t}),Ee=(()=>{class t{constructor(e){this._service=e,this.ordered=[];}ngOnInit(){this._series=this._service.map.subscribe(e=>this.ordered=Object.keys(e).map(n=>({key:n,text:e[n].fullName||n})).sort((n,i)=>n.text.toLocaleLowerCase().localeCompare(i.text.toLocaleLowerCase())));}ngOnDestroy(){this._series?.unsubscribe();}get series(){return this.edit.series||"";}set series(e){this.edit.series=e||void 0;}static{this.ɵfac=function(n){return new(n||t)(M(de));};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-series"]],inputs:{edit:"edit"},decls:5,vars:6,consts:()=>{let e;e="(assign Series)";let n;return n="Series",[n,[1,"field",3,"ngClass"],["hint",e,3,"selectedChange","items","selected"],[3,"list"]];},template:function(n,i){n&1&&(s(0,"div",1)(1,"label"),_(2,0),d(),s(3,"semantic-single-select",2),f("selectedChange",function(a){return R(i.series,a)||(i.series=a),a;}),d()(),g(4,"app-validation-errors",3)),n&2&&(o("ngClass",c(4,Le,i.edit.validationErrors==null?null:i.edit.validationErrors.series)),r(3),o("items",i.ordered),C("selected",i.series),r(),o("list",i.edit.validationErrors==null?null:i.edit.validationErrors.series));},dependencies:[T,S,j,N],encapsulation:2});}}return t;})();var we=["selector"],ke=t=>({error:t}),Ce=(()=>{class t{ngAfterViewInit(){let e=$(this.selector?.nativeElement);e.dropdown({forceSelection:!1,onChange:n=>this.edit.containerType=parseInt(n,10)}),setTimeout(()=>{e.dropdown("set exactly",`${this.edit.containerType??ae.Undefined}`),e.css("visibility","");},100);}ngOnDestroy(){$(this.selector?.nativeElement)?.dropdown("destroy");}static{this.ɵfac=function(n){return new(n||t)();};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-type"]],viewQuery:function(n,i){if(n&1&&F(we,5),n&2){let l;z(l=W())&&(i.selector=l.first);}},inputs:{edit:"edit"},decls:21,vars:4,consts:()=>{let e;e="Type of Media";let n;n="(unknown)";let i;i="Video CD";let l;l="Super-Video CD";let a;a="DVD (burned)";let y;y="DVD (bought)";let U;return U="Blu-Ray",[["selector",""],e,n,i,l,a,y,U,[1,"required","field",3,"ngClass"],[1,"ui","selection","fluid","dropdown",2,"visibility","hidden"],[1,"dropdown","icon"],[1,"default","text"],[1,"menu"],["data-value","0",1,"item"],["data-value","1",1,"item"],["data-value","2",1,"item"],["data-value","3",1,"item"],["data-value","4",1,"item"],["data-value","5",1,"item"],[3,"list"]];},template:function(n,i){n&1&&(s(0,"div",8)(1,"label"),_(2,1),d(),s(3,"div",9,0),g(5,"i",10)(6,"div",11),s(7,"div",12)(8,"div",13),_(9,2),d(),s(10,"div",14),_(11,3),d(),s(12,"div",15),_(13,4),d(),s(14,"div",16),_(15,5),d(),s(16,"div",17),_(17,6),d(),s(18,"div",18),_(19,7),d()()()(),g(20,"app-validation-errors",19)),n&2&&(o("ngClass",c(2,ke,i.edit.validationErrors==null?null:i.edit.validationErrors.containerType)),r(20),o("list",i.edit.validationErrors==null?null:i.edit.validationErrors.containerType));},dependencies:[T,S,N],encapsulation:2});}}return t;})();var be=t=>({error:t}),Re=(()=>{class t{constructor(e){this._service=e,this.ordered=[];}ngOnInit(){this._query=this._service.map.subscribe(e=>this.ordered=Object.keys(e).map(n=>({key:n,text:e[n].name||n})).sort((n,i)=>n.text.toLocaleLowerCase().localeCompare(i.text.toLocaleLowerCase())));}ngOnDestroy(){this._query?.unsubscribe();}get genres(){return this.edit.genres||[];}set genres(e){this.edit.genres=e;}static{this.ɵfac=function(n){return new(n||t)(M(se));};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-genre"]],inputs:{edit:"edit"},decls:5,vars:6,consts:()=>{let e;e="(assign Categories)";let n;return n="Categories",[n,[1,"field",3,"ngClass"],["hint",e,3,"selectedChange","items","selected"],[3,"list"]];},template:function(n,i){n&1&&(s(0,"div",1)(1,"label"),_(2,0),d(),s(3,"semantic-multi-select",2),f("selectedChange",function(a){return R(i.genres,a)||(i.genres=a),a;}),d()(),g(4,"app-validation-errors",3)),n&2&&(o("ngClass",c(4,be,i.edit.validationErrors==null?null:i.edit.validationErrors.genres)),r(3),o("items",i.ordered),C("selected",i.genres),r(),o("list",i.edit.validationErrors==null?null:i.edit.validationErrors.genres));},dependencies:[T,S,B,N],encapsulation:2});}}return t;})();var Ue=t=>({error:t}),fe=(()=>{class t{constructor(e){this._service=e,this.ordered=[];}ngOnInit(){this._query=this._service.map.subscribe(e=>this.ordered=Object.keys(e).map(n=>({key:n,text:e[n].name||n})).sort((n,i)=>n.text.toLocaleLowerCase().localeCompare(i.text.toLocaleLowerCase())));}ngOnDestroy(){this._query?.unsubscribe();}get languages(){return this.edit.languages||[];}set languages(e){this.edit.languages=e;}static{this.ɵfac=function(n){return new(n||t)(M(le));};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-language"]],inputs:{edit:"edit"},decls:5,vars:6,consts:()=>{let e;e="(assign Languages)";let n;return n="Languages",[n,[1,"field",3,"ngClass"],["hint",e,3,"selectedChange","items","selected"],[3,"list"]];},template:function(n,i){n&1&&(s(0,"div",1)(1,"label"),_(2,0),d(),s(3,"semantic-multi-select",2),f("selectedChange",function(a){return R(i.languages,a)||(i.languages=a),a;}),d()(),g(4,"app-validation-errors",3)),n&2&&(o("ngClass",c(4,Ue,i.edit.validationErrors==null?null:i.edit.validationErrors.languages)),r(3),o("items",i.ordered),C("selected",i.languages),r(),o("list",i.edit.validationErrors==null?null:i.edit.validationErrors.languages));},dependencies:[T,S,B,N],encapsulation:2});}}return t;})();var Se=t=>({error:t}),Te=(()=>{class t{constructor(e){this._service=e,this.ordered=[];}ngOnInit(){this._container=this._service.map.subscribe(e=>this.ordered=Object.keys(e).map(n=>({key:n,text:e[n].fullName||n})).sort((n,i)=>n.text.toLocaleLowerCase().localeCompare(i.text.toLocaleLowerCase())));}ngOnDestroy(){this._container?.unsubscribe();}get container(){return this.edit.containerId||"";}set container(e){this.edit.containerId=e||void 0;}get position(){return this.edit.containerPosition||"";}set position(e){this.edit.containerPosition=e;}static{this.ɵfac=function(n){return new(n||t)(M(ge));};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-container"]],inputs:{edit:"edit"},decls:11,vars:11,consts:()=>{let e;e="(assign Storage)";let n;n="Storage";let i;return i="Location",[n,i,[1,"field",3,"ngClass"],["hint",e,3,"selectedChange","items","selected"],[3,"list"],[1,"ui","input"],["type","text",3,"ngModelChange","ngModel"]];},template:function(n,i){n&1&&(s(0,"div",2)(1,"label"),_(2,0),d(),s(3,"semantic-single-select",3),f("selectedChange",function(a){return R(i.container,a)||(i.container=a),a;}),d()(),g(4,"app-validation-errors",4),s(5,"div",2)(6,"label"),_(7,1),d(),s(8,"div",5)(9,"input",6),f("ngModelChange",function(a){return R(i.position,a)||(i.position=a),a;}),d()()(),g(10,"app-validation-errors",4)),n&2&&(o("ngClass",c(7,Se,i.edit.validationErrors==null?null:i.edit.validationErrors.containerId)),r(3),o("items",i.ordered),C("selected",i.container),r(),o("list",i.edit.validationErrors==null?null:i.edit.validationErrors.containerId),r(),o("ngClass",c(9,Se,i.edit.validationErrors==null?null:i.edit.validationErrors.containerPosition)),r(4),C("ngModel",i.position),r(),o("list",i.edit.validationErrors==null?null:i.edit.validationErrors.containerPosition));},dependencies:[T,S,b,L,w,k,N,j],encapsulation:2});}}return t;})();var xe=["selector"],Xe=t=>({error:t}),Ne=(()=>{class t{ngAfterViewInit(){let e=$(this.selector?.nativeElement);e.dropdown({forceSelection:!1,onChange:n=>this.edit.deleteType=parseInt(n,10)}),setTimeout(()=>{e.dropdown("set exactly",`${this.edit.deleteType??ce.None}`),e.css("visibility","");},100);}ngOnDestroy(){$(this.selector?.nativeElement)?.dropdown("destroy");}static{this.ɵfac=function(n){return new(n||t)();};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-delete"]],viewQuery:function(n,i){if(n&1&&F(xe,5),n&2){let l;z(l=W())&&(i.selector=l.first);}},inputs:{edit:"edit"},decls:15,vars:4,consts:()=>{let e;e="Visibility";let n;n="Normal";let i;i="Can be deleted";let l;return l="Deleted",[["selector",""],e,n,i,l,[1,"field",3,"ngClass"],[1,"ui","selection","fluid","dropdown",2,"visibility","hidden"],[1,"dropdown","icon"],[1,"default","text"],[1,"menu"],["data-value","0",1,"item"],["data-value","1",1,"item"],["data-value","2",1,"item"],[3,"list"]];},template:function(n,i){n&1&&(s(0,"div",5)(1,"label"),_(2,1),d(),s(3,"div",6,0),g(5,"i",7)(6,"div",8),s(7,"div",9)(8,"div",10),_(9,2),d(),s(10,"div",11),_(11,3),d(),s(12,"div",12),_(13,4),d()()()(),g(14,"app-validation-errors",13)),n&2&&(o("ngClass",c(2,Xe,i.edit.validationErrors==null?null:i.edit.validationErrors.deleteType)),r(14),o("list",i.edit.validationErrors==null?null:i.edit.validationErrors.deleteType));},dependencies:[T,S,N],encapsulation:2});}}return t;})();var Oe=(()=>{class t{static{this.ɵfac=function(n){return new(n||t)();};}static{this.ɵcmp=E({type:t,selectors:[["app-recording-rating"]],inputs:{edit:"edit"},decls:2,vars:0,template:function(n,i){n&1&&(s(0,"p"),x(1,"recording-rating works!"),d());},encapsulation:2});}}return t;})();var H=t=>({disabled:t}),Ve=t=>({errors:t}),J=t=>({error:t});function Fe(t,v){if(t&1){let e=A();s(0,"div",24),O("click",function(){u(e);let i=p(2);return m(i.onRemove());}),_(1,8),d();}}function ze(t,v){if(t&1){let e=A();s(0,"div")(1,"div",10)(2,"div",11),O("click",function(){u(e);let i=p();return m(i.reload());}),_(3,0),d(),s(4,"div",12),O("click",function(){u(e);let i=p();return m(i.onSave(!1));}),_(5,1),d(),s(6,"div",11),O("click",function(){u(e);let i=p();return m(i.onSave(!0));}),_(7,2),d(),s(8,"div",13),O("click",function(){u(e);let i=p();return m(i.onClone());}),_(9,3),d(),G(10,Fe,2,0,"div",14),d(),s(11,"div",15)(12,"div",16)(13,"label"),_(14,4),d(),s(15,"div",17)(16,"input",18),f("ngModelChange",function(i){u(e);let l=p();return R(l.name,i)||(l.name=i),m(i);}),d()()(),g(17,"app-validation-errors",19)(18,"app-recording-rating",20)(19,"app-recording-link",20),s(20,"div",21)(21,"label"),_(22,5),d(),s(23,"div",17)(24,"textarea",22),f("ngModelChange",function(i){u(e);let l=p();return R(l.description,i)||(l.description=i),m(i);}),d()()(),g(25,"app-validation-errors",19)(26,"app-recording-series",20)(27,"app-recording-type",20)(28,"app-recording-genre",20)(29,"app-recording-language",20)(30,"app-recording-container",20),s(31,"div",21)(32,"label"),_(33,6),d(),s(34,"div",17)(35,"input",18),f("ngModelChange",function(i){u(e);let l=p();return R(l.rentTo,i)||(l.rentTo=i),m(i);}),d()()(),g(36,"app-recording-delete",20)(37,"app-validation-errors",19),d(),s(38,"app-semantic-modal",23),O("closed",function(){u(e);let i=p();return m(i.confirm=!1);})("confirm",function(){u(e);let i=p();return m(i.onConfirm());}),_(39,7),d()();}if(t&2){let e=p();r(2),o("ngClass",c(23,H,!e.edit.isDirty)),r(2),o("ngClass",c(25,H,!e.edit.isDirty||e.edit.validationErrors)),r(2),o("ngClass",c(27,H,!e.edit.isDirty||e.edit.validationErrors)),r(4),o("ngIf",e.editId),r(),o("ngClass",c(29,Ve,e.edit.validationErrors)),r(),o("ngClass",c(31,J,e.edit.validationErrors==null?null:e.edit.validationErrors.name)),r(4),C("ngModel",e.name),r(),o("list",e.edit.validationErrors==null?null:e.edit.validationErrors.name),r(),o("edit",e.edit),r(),o("edit",e.edit),r(),o("ngClass",c(33,J,e.edit.validationErrors==null?null:e.edit.validationErrors.description)),r(4),C("ngModel",e.description),r(),o("list",e.edit.validationErrors==null?null:e.edit.validationErrors.description),r(),o("edit",e.edit),r(),o("edit",e.edit),r(),o("edit",e.edit),r(),o("edit",e.edit),r(),o("edit",e.edit),r(),o("ngClass",c(35,J,e.edit.validationErrors==null?null:e.edit.validationErrors.rentTo)),r(4),C("ngModel",e.rentTo),r(),o("edit",e.edit),r(),o("list",e.edit.validationErrors==null?null:e.edit.validationErrors.rentTo),r(),o("show",e.confirm);}}var ve=(()=>{class t extends _e{getEditService(){return this._service;}constructor(e,n){super(),this._service=e,this._route=n;}ngOnInit(){super.ngOnInit(),this._params=this._route.params.subscribe(e=>{this.select(e.id),this._service.id=this.editId==="@"?"":this.editId;});}ngOnDestroy(){super.ngOnDestroy(),this._params?.unsubscribe();}onSave(e){this.edit&&this._service.save(this.editId,this.edit,e);}onClone(){this.edit&&this._service.clone(this.edit);}onConfirm(){this._service.remove(this.editId),this.confirm=!1;}get name(){return this.edit?.name||"";}set name(e){this.edit&&(this.edit.name=e);}get description(){return this.edit?.description||"";}set description(e){this.edit&&(this.edit.description=e);}get rentTo(){return this.edit?.rentTo||"";}set rentTo(e){this.edit&&(this.edit.rentTo=e);}static{this.ɵfac=function(n){return new(n||t)(M(pe),M(oe));};}static{this.ɵcmp=E({type:t,selectors:[["app-recording"]],features:[ie],decls:1,vars:1,consts:()=>{let e;e="Cancel";let n;n="Save and exit";let i;i="Save and Clone";let l;l="Clone";let a;a="Name";let y;y="Description";let U;U="Rent to";let I;I="Deleting a Recording can not be undone. Do you really want to delete this Recording?";let Z;return Z="Delete",[e,n,i,l,a,y,U,I,Z,[4,"ngIf"],[1,"actions"],[1,"ui","button",3,"click","ngClass"],[1,"ui","primary","button",3,"click","ngClass"],[1,"ui","button",3,"click"],["class","ui negative button",3,"click",4,"ngIf"],[1,"ui","form",3,"ngClass"],[1,"required","field",3,"ngClass"],[1,"ui","input"],["type","text",3,"ngModelChange","ngModel"],[3,"list"],[3,"edit"],[1,"field",3,"ngClass"],["rows","5",3,"ngModelChange","ngModel"],[3,"closed","confirm","show"],[1,"ui","negative","button",3,"click"]];},template:function(n,i){n&1&&G(0,ze,40,37,"div",9),n&2&&o("ngIf",i.edit);},dependencies:[T,S,K,N,b,L,w,k,re,Te,Ne,Re,fe,me,Oe,Ee,Ce],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:0 1em;overflow:auto}"]});}}return t;})();var We=[{component:ve,path:":id/:reload"}],Me=(()=>{class t{static{this.ɵfac=function(n){return new(n||t)();};}static{this.ɵmod=V({type:t});}static{this.ɵinj=X({imports:[Q.forChild(We),Q]});}}return t;})();var Ki=(()=>{class t{static{this.ɵfac=function(n){return new(n||t)();};}static{this.ɵmod=V({type:t});}static{this.ɵinj=X({imports:[Me]});}}return t;})();export{Ki as RecordingModule};/**i18n:89832ca10e07b9b22f7f6c4347886c9b71cd69873c1434137d79347a92194613*/