import{a as T}from"./chunk-USKCVYVL.js";import{a as W,c as H}from"./chunk-3JMWS3XA.js";import{a as J}from"./chunk-QRSEQL3H.js";import{A as C,B as h,C as m,I as x,K as I,M as L,N as $,O as k,P as d,U as y,V as A,W as b,Z as D,ca as V,da as U,ea as X,fa as j,g as O,ha as q,j as _,k as g,ka as z,la as E,ma as K,n as a,na as B,o as f,p,q as R,r as G,s as v,t as s,w as l,x as c,y as u,z as N}from"./chunk-CJ2PPRXS.js";var Q=n=>({disabled:n}),oe=n=>({errors:n}),re=n=>({error:n});function se(n,e){if(n&1){let o=N();l(0,"div",16),h("click",function(){_(o);let t=m(2);return g(t.onRemove());}),C(1,4),c();}}function ae(n,e){if(n&1){let o=N();l(0,"div")(1,"div",6)(2,"div",7),h("click",function(){_(o);let t=m();return g(t.reload());}),C(3,0),c(),l(4,"div",8),h("click",function(){_(o);let t=m();return g(t.onSave());}),C(5,1),c(),v(6,se,2,0,"div",9),c(),l(7,"div",10)(8,"div",11)(9,"label"),C(10,2),c(),l(11,"div",12)(12,"input",13),k("ngModelChange",function(t){_(o);let r=m();return $(r.name,t)||(r.name=t),g(t);}),c()()(),u(13,"app-validation-errors",14),c(),l(14,"app-semantic-modal",15),h("closed",function(){_(o);let t=m();return g(t.confirm=!1);})("confirm",function(){_(o);let t=m();return g(t.onConfirm());}),C(15,3),c()();}if(n&2){let o=m();a(2),s("ngClass",d(8,Q,!o.edit.isDirty)),a(2),s("ngClass",d(10,Q,!o.edit.isDirty||o.edit.validationErrors)),a(2),s("ngIf",o.editId),a(),s("ngClass",d(12,oe,o.edit.validationErrors)),a(),s("ngClass",d(14,re,o.edit.validationErrors==null?null:o.edit.validationErrors.name)),a(4),L("ngModel",o.name),a(),s("list",o.edit.validationErrors==null?null:o.edit.validationErrors.name),a(),s("show",o.confirm);}}var Y=(()=>{let e=class e extends J{getEditService(){return this._service;}constructor(i){super(),this._service=i;}onSave(){this.edit&&this._service.addOrUpdate(this.editId,this.edit);}onConfirm(){this._service.remove(this.editId),this.confirm=!1;}get name(){var i;return((i=this.edit)==null?void 0:i.name)||"";}set name(i){this.edit&&(this.edit.name=i);}};e.ɵfac=function(t){return new(t||e)(f(T));},e.ɵcmp=p({type:e,selectors:[["app-genre-form"]],standalone:!1,features:[G],decls:1,vars:1,consts:()=>{let i;i="Cancel";let t;t="Save";let r;r="Language";let F;F="Deleting a Category can not be undone. Do you really want to delete this Category?";let P;return P="Delete",[i,t,r,F,P,[4,"ngIf"],[1,"actions"],[1,"ui","button",3,"click","ngClass"],[1,"ui","primary","button",3,"click","ngClass"],["class","ui negative button",3,"click",4,"ngIf"],[1,"ui","form",3,"ngClass"],[1,"required","field",3,"ngClass"],[1,"ui","input"],["type","text",3,"ngModelChange","ngModel"],[3,"list"],[3,"closed","confirm","show"],[1,"ui","negative","button",3,"click"]];},template:function(t,r){t&1&&v(0,ae,16,16,"div",5),t&2&&s("ngIf",r.edit);},dependencies:[y,b,K,V,U,X,B],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:auto}"]});let n=e;return n;})();var me=n=>["/genres",n],Z=(()=>{let e=class e{constructor(){this.genre=void 0;}};e.ɵfac=function(t){return new(t||e)();},e.ɵcmp=p({type:e,selectors:[["app-genre-item"]],inputs:{genre:"genre"},standalone:!1,decls:2,vars:4,consts:[[3,"routerLink"]],template:function(t,r){t&1&&(l(0,"div",0),x(1),c()),t&2&&(s("routerLink",d(2,me,r.genre._id)),a(),I(" ",r.genre.name,`
`));},dependencies:[z],styles:["[_nghost-%COMP%]{overflow:hidden}div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]});let n=e;return n;})();var pe=n=>({active:n});function _e(n,e){if(n&1&&u(0,"app-genre-item",2),n&2){let o=e.$implicit,i=m();s("ngClass",d(2,pe,o._id===i.selected))("genre",o);}}var ee=(()=>{let e=class e{constructor(i){this._service=i,this.selected="",this.items=[];}ngOnInit(){this._query=this._service.map.subscribe(i=>this.items=Object.keys(i).map(t=>i[t]).sort((t,r)=>(t.name||t._id).toLocaleLowerCase().localeCompare((r.name||r._id).toLocaleLowerCase())));}ngOnDestroy(){var i;(i=this._query)==null||i.unsubscribe();}};e.ɵfac=function(t){return new(t||e)(f(T));},e.ɵcmp=p({type:e,selectors:[["app-genre-list"]],inputs:{selected:"selected"},standalone:!1,decls:2,vars:1,consts:[[1,"ui","selection","list"],["class","item",3,"ngClass","genre",4,"ngFor","ngForOf"],[1,"item",3,"ngClass","genre"]],template:function(t,r){t&1&&(l(0,"div",0),v(1,_e,1,4,"app-genre-item",1),c()),t&2&&(a(),s("ngForOf",r.items));},dependencies:[y,A,Z],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:auto}.ui.list[_ngcontent-%COMP%]{row-gap:10em;min-height:100%;padding:.5em;background:#fff}.ui.list[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-top:.5em}.ui.list[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]:not(.active):not(:hover){color:#666;background:#ddd}"]});let n=e;return n;})();var w=(()=>{let e=class e{constructor(i){this._route=i,this.selected="";}ngOnInit(){this._query=this._route.params.subscribe(i=>this.selected=i.id);}ngOnDestroy(){var i;(i=this._query)==null||i.unsubscribe();}};e.ɵfac=function(t){return new(t||e)(f(q));},e.ɵcmp=p({type:e,selectors:[["app-genre"]],standalone:!1,decls:3,vars:2,consts:[[1,"page"],["list","",3,"selected"],["detail","",3,"selected"]],template:function(t,r){t&1&&(l(0,"app-master-detail",0),u(1,"app-genre-list",1)(2,"app-genre-form",2),c()),t&2&&(a(),s("selected",r.selected),a(),s("selected",r.selected));},dependencies:[W,Y,ee],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}.page[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]});let n=e;return n;})();var fe=[{component:w,path:"",pathMatch:"full"},{component:w,path:":id"}],te=(()=>{let e=class e{};e.ɵfac=function(t){return new(t||e)();},e.ɵmod=R({type:e}),e.ɵinj=O({imports:[E.forChild(fe),E]});let n=e;return n;})();var be=(()=>{let e=class e{};e.ɵfac=function(t){return new(t||e)();},e.ɵmod=R({type:e}),e.ɵinj=O({imports:[D,E,H,j,te]});let n=e;return n;})();export{be as GenreModule};/**i18n:08c1d4d8c08a2162d727ca9e0c346dc3cd29b4127d277ac11485a3d27068df66*/