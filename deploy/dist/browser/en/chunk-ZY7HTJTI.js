import{a as O}from"./chunk-5RCSVWXF.js";import{a as K}from"./chunk-M5RA6FRI.js";import{a as q,b as z,c as j}from"./chunk-Q3XM6DP4.js";import{a as D,b as V,c as U,d as X}from"./chunk-NRD4YDIC.js";import{A as P,B as v,E as s,I as l,J as a,K as f,L as R,M as C,N as h,O as d,U as F,W as G,Y as x,Z as I,_ as L,aa as _,la as M,ma as $,n as p,na as k,o as g,qa as S,u as c,va as A,w as u,x as m,ya as b}from"./chunk-5HCCPM3E.js";var Q=n=>["/genres",n],W=(()=>{let i=class i{};i.ɵfac=function(e){return new(e||i)();},i.ɵcmp=m({type:i,selectors:[["app-genre-item"]],inputs:{genre:"genre"},decls:2,vars:4,consts:[[3,"routerLink"]],template:function(e,r){e&1&&(l(0,"div",0),F(1),a()),e&2&&(s("routerLink",_(2,Q,r.genre._id)),c(),G(" ",r.genre.name,`
`));},dependencies:[b],styles:["[_nghost-%COMP%]{overflow:hidden}div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]});let n=i;return n;})();var ee=n=>({active:n});function te(n,i){if(n&1&&f(0,"app-genre-item",2),n&2){let o=i.$implicit,t=d();s("ngClass",_(2,ee,o._id===t.selected))("genre",o);}}var B=(()=>{let i=class i{constructor(t){this._service=t,this.selected="",this.items=[];}ngOnInit(){this._query=this._service.map.subscribe(t=>this.items=Object.keys(t).map(e=>t[e]).sort((e,r)=>(e.name||e._id).toLocaleLowerCase().localeCompare((r.name||r._id).toLocaleLowerCase())));}ngOnDestroy(){var t;(t=this._query)==null||t.unsubscribe();}};i.ɵfac=function(e){return new(e||i)(u(O));},i.ɵcmp=m({type:i,selectors:[["app-genre-list"]],inputs:{selected:"selected"},decls:2,vars:1,consts:[[1,"ui","selection","list"],["class","item",3,"ngClass","genre",4,"ngFor","ngForOf"],[1,"item",3,"ngClass","genre"]],template:function(e,r){e&1&&(l(0,"div",0),v(1,te,1,4,"app-genre-item",1),a()),e&2&&(c(),s("ngForOf",r.items));},dependencies:[W,S,M,$],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:auto}.ui.list[_ngcontent-%COMP%]{row-gap:10em;min-height:100%;padding:.5em;background:#fff}.ui.list[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-top:.5em}.ui.list[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]:not(.active):not(:hover){color:#666;background:#ddd}"]});let n=i;return n;})();var H=n=>({disabled:n}),ne=n=>({errors:n}),ie=n=>({error:n});function oe(n,i){if(n&1){let o=R();l(0,"div",16),h("click",function(){p(o);let e=d(2);return g(e.onRemove());}),C(1,4),a();}}function re(n,i){if(n&1){let o=R();l(0,"div")(1,"div",6)(2,"div",7),h("click",function(){p(o);let e=d();return g(e.reload());}),C(3,0),a(),l(4,"div",8),h("click",function(){p(o);let e=d();return g(e.onSave());}),C(5,1),a(),v(6,oe,2,0,"div",9),a(),l(7,"div",10)(8,"div",11)(9,"label"),C(10,2),a(),l(11,"div",12)(12,"input",13),L("ngModelChange",function(e){p(o);let r=d();return I(r.name,e)||(r.name=e),g(e);}),a()()(),f(13,"app-validation-errors",14),a(),l(14,"app-semantic-modal",15),h("closed",function(){p(o);let e=d();return g(e.confirm=!1);})("confirm",function(){p(o);let e=d();return g(e.onConfirm());}),C(15,3),a()();}if(n&2){let o=d();c(2),s("ngClass",_(8,H,!o.edit.isDirty)),c(2),s("ngClass",_(10,H,!o.edit.isDirty||o.edit.validationErrors)),c(2),s("ngIf",o.editId),c(),s("ngClass",_(12,ne,o.edit.validationErrors)),c(),s("ngClass",_(14,ie,o.edit.validationErrors==null?null:o.edit.validationErrors.name)),c(4),x("ngModel",o.name),c(),s("list",o.edit.validationErrors==null?null:o.edit.validationErrors.name),c(),s("show",o.confirm);}}var J=(()=>{let i=class i extends q{getEditService(){return this._service;}constructor(t){super(),this._service=t;}onSave(){this.edit&&this._service.addOrUpdate(this.editId,this.edit);}onConfirm(){this._service.remove(this.editId),this.confirm=!1;}get name(){var t;return((t=this.edit)==null?void 0:t.name)||"";}set name(t){this.edit&&(this.edit.name=t);}};i.ɵfac=function(e){return new(e||i)(u(O));},i.ɵcmp=m({type:i,selectors:[["app-genre-form"]],features:[P],decls:1,vars:1,consts:()=>{let t;t="Cancel";let e;e="Save";let r;r="Language";let w;w="Deleting a Category can not be undone. Do you really want to delete this Category?";let N;return N="Delete",[t,e,r,w,N,[4,"ngIf"],[1,"actions"],[1,"ui","button",3,"click","ngClass"],[1,"ui","primary","button",3,"click","ngClass"],["class","ui negative button",3,"click",4,"ngIf"],[1,"ui","form",3,"ngClass"],[1,"required","field",3,"ngClass"],[1,"ui","input"],["type","text",3,"ngModelChange","ngModel"],[3,"list"],[3,"closed","confirm","show"],[1,"ui","negative","button",3,"click"]];},template:function(e,r){e&1&&v(0,re,16,16,"div",5),e&2&&s("ngIf",r.edit);},dependencies:[S,M,k,X,D,V,U,z,j],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:auto}"]});let n=i;return n;})();var y=(()=>{let i=class i{constructor(t){this._route=t,this.selected="";}ngOnInit(){this._query=this._route.params.subscribe(t=>this.selected=t.id);}ngOnDestroy(){var t;(t=this._query)==null||t.unsubscribe();}};i.ɵfac=function(e){return new(e||i)(u(A));},i.ɵcmp=m({type:i,selectors:[["app-genre"]],decls:3,vars:2,consts:[[1,"page"],["list","",3,"selected"],["detail","",3,"selected"]],template:function(e,r){e&1&&(l(0,"app-master-detail",0),f(1,"app-genre-list",1)(2,"app-genre-form",2),a()),e&2&&(c(),s("selected",r.selected),c(),s("selected",r.selected));},dependencies:[K,B,J],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}.page[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]});let n=i;return n;})();var Re=[{component:y,path:"",pathMatch:"full"},{component:y,path:":id"}];export{Re as genreRoutes};/**i18n:a8954d4657d2d391fad3e0def8ee5f3664c832ab1fd28b409e53253f04c593f5*/