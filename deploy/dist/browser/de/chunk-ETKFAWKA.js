import{d as l,f as p,h as i,ia as d,ra as h,sa as m,ta as f}from"./chunk-QWA7TTEO.js";function u(e,a=0,r=[]){r.push(e._id),e.level=a++,e.children.forEach(o=>u(o,a,e.allChildren)),r.push(...e.children.map(o=>o._id))}var E=(()=>{class e extends f{get roots(){return this._roots}constructor(r,o,n){super(r,"Series","series","_id name description parentId fullName",o,n),this.ignoredFields=new Set(["__typename","_id","allChildren","children","fullName","level"]),this._roots=new l([]),this.load()}createMap(r){let o=super.createMap(r),n=[];return r.forEach(t=>{t.name=t.name||t._id,t.fullName=t.fullName||t.name,t.allChildren=[],t.children=[]}),r.forEach(t=>{let c=t.parentId?o[t.parentId]:void 0;c?c.children.push(t):n.push(t)}),n.forEach(t=>u(t)),this._roots.next(n),o}ngOnDestroy(){super.ngOnDestroy(),this._roots.complete()}static{this.\u0275fac=function(o){return new(o||e)(i(h),i(m),i(d))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();export{E as a};
/**i18n:4f0ea12499191b9fb7bfd15ae35102ab286a3db89d761e221a76f1a80285e269*/
