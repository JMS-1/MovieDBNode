import{b as s,c as g}from"./chunk-3P4EA7QF.js";import{a as n}from"./chunk-HJ6E5HMB.js";import{a as d,b as a,f as c,h as t,ha as f,ta as h,ua as l,va as _}from"./chunk-YYG3BXA6.js";var v=`
  query ($id: ID!) {
    recordings {
      findById(_id: $id) {
        ${s}
      }
    }
  }
`,U=(()=>{class i extends _{get id(){return this._id}set id(e){this._id=e,this.load()}constructor(e,r,o,p){super(e,"Recording","recordings",s,o,p),this._recodings=r,this.ignoredFields=new Set(["__typename","_id","created","fullName"]),this._cloneAfterAddOrSave=!1,this._id="",this.load()}fromServer(e){return e.containerType=n[e.containerType??n.Undefined],e}toServer(e){return e.containerType=n[e.containerType],e}createNew(){let e=this._cloneAfterAddOrSave;return typeof e=="object"?(this._cloneAfterAddOrSave=!1,a(d({},this.fromServer(e)),{name:`Kopie von ${e.name}`})):{containerType:n.Undefined,genres:[],languages:[],links:[]}}load(){this._id?this._gql.call(v,{id:this._id},e=>{let r=e.recordings.findById;this._query.next({[r._id]:this.fromServer(r)}),this.refresh()}):this._query.next({})}save(e,r,o){this._cloneAfterAddOrSave=o,super.addOrUpdate(e,r)}clone(e){this._cloneAfterAddOrSave=this.toServer(JSON.parse(JSON.stringify(e))),this._router.navigate(["/recordings","NEW","NEW"])}afterAdd(e){this._recodings.reload(this._recodings.page),this._cloneAfterAddOrSave=this._cloneAfterAddOrSave&&e,this._cloneAfterAddOrSave?this._router.navigate(["/recordings","NEW",e._id]):this._router.navigateByUrl("/")}afterUpdate(e){this._recodings.reload(this._recodings.page),this._cloneAfterAddOrSave=this._cloneAfterAddOrSave&&e,this._cloneAfterAddOrSave?this._router.navigate(["/recordings","NEW",e._id]):this._router.navigateByUrl("/")}afterDelete(e){this._recodings.reload(this._recodings.page),this._router.navigateByUrl("/")}static{this.\u0275fac=function(r){return new(r||i)(t(h),t(g),t(l),t(f))}}static{this.\u0275prov=c({token:i,factory:i.\u0275fac})}}return i})();export{U as a};
/**i18n:b271914f691dadc2f8b5c881bd202ccd56c2d40c5c7c5d278b1e99a15b46a6b9*/
