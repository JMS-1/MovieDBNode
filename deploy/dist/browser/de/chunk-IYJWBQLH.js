import{c as d}from"./chunk-3P4EA7QF.js";import{a as Z}from"./chunk-HY6WVRKJ.js";import{a as D}from"./chunk-UMJX2A5W.js";import{a as $}from"./chunk-75JJJ7IE.js";import{B as M,C as u,D as I,H as _,I as R,K as X,L as C,M as h,N as S,O as j,P as B,Q as k,R as U,S as W,T as P,U as O,V,W as q,X as K,e as z,g as w,ia as Q,j as A,ja as F,k as L,n as m,na as H,o as s,oa as J,p as c,pa as N,q as b,qa as Y,s as T,t as l,v as o,w as r,x as E,y as G}from"./chunk-YYG3BXA6.js";function y(i,p){return i.pipe(z(e=>Object.keys(e).map(t=>({key:t,text:e[t][p]||t})).sort((t,n)=>t.text.toLocaleLowerCase().localeCompare(n.text.toLocaleLowerCase()))));}var ee=(()=>{class i{constructor(e,t){this._genres=e,this._recordings=t,this.orderedAsItems=[],this._subscription=y(this._genres.map,"name").subscribe(n=>this.orderedAsItems=n);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.genres||[];}set selected(e){this._recordings.genres=e;}static{this.ɵfac=function(t){return new(t||i)(s($),s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-genre-filter"]],standalone:!1,decls:1,vars:2,consts:()=>{let e;return e="(alle Kategorien)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(t,n){t&1&&(o(0,"semantic-multi-select",0),S("selectedChange",function(a){return h(n.selected,a)||(n.selected=a),a;}),r()),t&2&&(l("items",n.orderedAsItems),C("selected",n.selected));},dependencies:[H],encapsulation:2});}}return i;})();var ie=(()=>{class i{constructor(e,t){this._languages=e,this._recordings=t,this.orderedAsItems=[],this._subscription=y(this._languages.map,"name").subscribe(n=>this.orderedAsItems=n);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.language;}set selected(e){this._recordings.language=e;}static{this.ɵfac=function(t){return new(t||i)(s(D),s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-language-filter"]],standalone:!1,decls:1,vars:2,consts:()=>{let e;return e="(alle Sprachen)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(t,n){t&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(n.selected,a)||(n.selected=a),a;}),r()),t&2&&(l("items",n.orderedAsItems),C("selected",n.selected));},dependencies:[N],encapsulation:2});}}return i;})();function Ce(i,p){if(i&1){let e=G();o(0,"a",2),u("click",function(){let n=A(e).$implicit;return L(n.onClick());}),_(1),r();}if(i&2){let e=p.$implicit;l("ngClass",e.className),m(),R(e.count);}}var he=[15,30,50,75,100,250],ne=(()=>{class i{constructor(e){this._recordingService=e;}get size(){return this._recordingService.pageSize;}get items(){return he.map(e=>({className:{active:e===this.size,item:!0},count:e,onClick:()=>this._recordingService.pageSize=e}));}static{this.ɵfac=function(t){return new(t||i)(s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-page-size-filter"]],standalone:!1,decls:2,vars:1,consts:[[1,"ui","menu"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(t,n){t&1&&(o(0,"div",0),T(1,Ce,2,2,"a",1),r()),t&2&&(m(),l("ngForOf",n.items));},dependencies:[P,O],encapsulation:2});}}return i;})();var Ee=(i,p)=>({active:i,disabled:p});function Re(i,p){if(i&1){let e=G();o(0,"a",3),u("click",function(){let n=A(e).$implicit,g=I();return L(n.page&&g.setPage(n.page));}),_(1),r();}if(i&2){let e=p.$implicit,t=I();l("ngClass",B(2,Ee,e.page===t.curPage,!e.page)),m(),R(e.page||"...");}}function Te(i,p){let e=[];if(i<1)return e;if(e.push({page:1}),i<8){for(let t=2;t<=i;t++)e.push({page:t});return e;}if(p<=5){for(let t=2;t<=5;t++)e.push({page:t});return e.push({page:void 0}),e.push({page:i}),e;}if(e.push({page:void 0}),p>=i-4){for(let t=i-4;t<=i;t++)e.push({page:t});return e;}for(let t=p-1;t<=p+1;t++)e.push({page:t});return e.push({page:void 0}),e.push({page:i}),e;}var re=(()=>{class i{constructor(e){this._recordingService=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]},this.maxPage=0,this.pages=[];}get curPage(){return this._recordingService.page+1;}setPage(e){e<1||e>this.maxPage||(this._recordingService.page=e-1);}ngOnInit(){this._recordings=this._recordingService.result.subscribe(e=>{this.maxPage=e.count>0?Math.ceil(e.count/this._recordingService.pageSize):0,this.pages=Te(this.maxPage,this.curPage),this._result=e;});}ngOnDestroy(){this._recordings?.unsubscribe();}static{this.ɵfac=function(t){return new(t||i)(s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-pagination"]],standalone:!1,decls:10,vars:1,consts:[[1,"ui","pagination","menu"],[1,"item",3,"click"],["class","item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"item",3,"click","ngClass"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"a",1),u("click",function(){return n.setPage(1);}),_(2,"\xAB"),r(),o(3,"a",1),u("click",function(){return n.setPage(n.curPage-1);}),_(4,"\u27E8"),r(),T(5,Re,2,5,"a",2),o(6,"a",1),u("click",function(){return n.setPage(n.curPage+1);}),_(7,"\u27E9"),r(),o(8,"a",1),u("click",function(){return n.setPage(n.maxPage);}),_(9,"\xBB"),r()()),t&2&&(m(5),l("ngForOf",n.pages));},dependencies:[P,O],encapsulation:2});}}return i;})();var ve=["recording",""];function Pe(i,p){if(i&1&&E(0,"i",1),i&2){let e=I();l("title",e.rent);}}var oe=(()=>{class i{constructor(e,t){this._languages=e,this._genres=t,this.item=void 0,this.languages="",this.genres="";}get rent(){return this.item.rentTo||"";}ngOnInit(){this._genreQuery=this._genres.map.subscribe(e=>{this.genres=(this.item.genres||[]).map(t=>e[t]?.name||t).sort().join(", ")||"\xA0";}),this._languageQuery=this._languages.map.subscribe(e=>{this.languages=(this.item.languages||[]).map(t=>e[t]?.name||t).sort().join(", ")||"\xA0";});}ngOnDestroy(){this._languageQuery?.unsubscribe(),this._genreQuery?.unsubscribe();}static{this.ɵfac=function(t){return new(t||i)(s(D),s($));};}static{this.ɵcmp=c({type:i,selectors:[["","recording",""]],inputs:{item:"item"},standalone:!1,attrs:ve,decls:15,vars:8,consts:[["class","ui icon user outline",3,"title",4,"ngIf"],[1,"ui","icon","user","outline",3,"title"]],template:function(t,n){t&1&&(o(0,"td")(1,"div")(2,"div"),_(3),r(),T(4,Pe,1,1,"i",0),r()(),o(5,"td")(6,"div"),_(7),U(8,"date"),r()(),o(9,"td")(10,"div"),_(11),r()(),o(12,"td")(13,"div"),_(14),r()()),t&2&&(m(3),R(n.item.fullName),m(),l("ngIf",!!n.rent),m(3),R(W(8,5,n.item.created,"dd.MM.yyyy HH:mm:ss")),m(4),R(n.languages),m(3),R(n.genres));},dependencies:[V,q],styles:["td[_ngcontent-%COMP%]{padding:0 .5em;cursor:pointer}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}td[_ngcontent-%COMP%]:nth-child(1){width:40em;min-width:40em;max-width:40em}td[_ngcontent-%COMP%]:nth-child(1) > div[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;column-gap:.5em;align-items:center}td[_ngcontent-%COMP%]:nth-child(2){width:12em;min-width:12em;max-width:12em}td[_ngcontent-%COMP%]:nth-child(3), td[_ngcontent-%COMP%]:nth-child(4){width:20em;min-width:20em;max-width:20em}"]});}}return i;})();var se=(i,p,e)=>({sorted:i,ascending:p,descending:e}),Ne=i=>["/recordings",i,"EDIT"];function ye(i,p){if(i&1&&E(0,"tr",7),i&2){let e=p.$implicit;l("item",e)("routerLink",j(2,Ne,e._id));}}var ae=(()=>{class i{get items(){return this._result.view;}constructor(e){this._service=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]};}ngOnInit(){this._query=this._service.result.subscribe(e=>this._result=e);}ngOnDestroy(){this._query?.unsubscribe();}sort(e){this._service.sort(e);}get ascending(){return this._service.sortOrder==="Ascending";}get sortName(){return this._service.sortColumn==="fullName";}get sortDate(){return this._service.sortColumn==="created";}static{this.ɵfac=function(t){return new(t||i)(s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-recording-table"]],standalone:!1,decls:15,vars:11,consts:()=>{let e;e=" Name ";let t;t=" Erstellt ";let n;n="Sprachen";let g;return g="Kategorien",[e,t,n,g,[1,"ui","celled","collapsing","fixed","sortable","striped","unstackable","compact","table"],[3,"click","ngClass"],["recording","",3,"item","routerLink",4,"ngFor","ngForOf"],["recording","",3,"item","routerLink"]];},template:function(t,n){t&1&&(o(0,"table",4)(1,"thead")(2,"tr")(3,"th",5),u("click",function(){return n.sort("fullName");}),M(4,0),r(),o(5,"th",5),u("click",function(){return n.sort("created");}),M(6,1),r(),o(7,"th")(8,"div"),M(9,2),r()(),o(10,"th")(11,"div"),M(12,3),r()()()(),o(13,"tbody"),T(14,ye,1,4,"tr",6),r()()),t&2&&(m(3),l("ngClass",k(3,se,n.sortName,n.ascending,!n.ascending)),m(2),l("ngClass",k(7,se,n.sortDate,n.ascending,!n.ascending)),m(9),l("ngForOf",n.items));},dependencies:[P,O,Q,oe],encapsulation:2});}}return i;})();var le=(()=>{class i{constructor(e){this._recordings=e,this.orderedAsItems=[{key:"1",text:"verliehen"},{key:"0",text:"nicht verliehen"}];}get selected(){return typeof this._recordings.rent=="boolean"?this._recordings.rent?"1":"0":"";}set selected(e){this._recordings.rent=e===""?void 0:e==="1";}static{this.ɵfac=function(t){return new(t||i)(s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-rent-filter"]],standalone:!1,decls:1,vars:2,consts:()=>{let e;return e="(verliehen egal)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(t,n){t&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(n.selected,a)||(n.selected=a),a;}),r()),t&2&&(l("items",n.orderedAsItems),C("selected",n.selected));},dependencies:[N],encapsulation:2});}}return i;})();var ce=(()=>{class i{constructor(e,t){this._series=e,this._recordings=t,this.orderedAsItems=[],this._subscription=y(this._series.map,"fullName").subscribe(n=>this.orderedAsItems=n);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.series;}set selected(e){this._recordings.series=e;}static{this.ɵfac=function(t){return new(t||i)(s(Z),s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-series-filter"]],standalone:!1,decls:1,vars:2,consts:()=>{let e;return e="(alle Serien)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(t,n){t&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(n.selected,a)||(n.selected=a),a;}),r()),t&2&&(l("items",n.orderedAsItems),C("selected",n.selected));},dependencies:[N],encapsulation:2});}}return i;})();var me=(()=>{class i{constructor(e){this._recordings=e;}get filter(){return this._recordings.fullName;}set filter(e){this._recordings.fullName=e;}static{this.ɵfac=function(t){return new(t||i)(s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-text-filter"]],standalone:!1,decls:1,vars:1,consts:()=>{let e;return e="Suche...",[["hint",e,3,"textChange","text"]];},template:function(t,n){t&1&&(o(0,"semantic-search",0),S("textChange",function(a){return h(n.filter,a)||(n.filter=a),a;}),r()),t&2&&C("text",n.filter);},dependencies:[J],encapsulation:2});}}return i;})();var de=(()=>{class i{constructor(e){this._service=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]},this.of=" von ";}get total(){return this._result.total;}get count(){return this._result.count;}onExport(){this._service.openExport();}ngOnInit(){this._query=this._service.result.subscribe(e=>this._result=e);}ngOnDestroy(){this._query?.unsubscribe();}clear(){this._service.reset();}static{this.ɵfac=function(t){return new(t||i)(s(d));};}static{this.ɵcmp=c({type:i,selectors:[["app-recordings"]],standalone:!1,decls:19,vars:3,consts:()=>{let e;e="Exportieren";let t;return t="Neue Suche",[e,t,[1,"page"],[1,"headline"],[1,"ui","compact","segment","counts"],[1,"ui","button",3,"click"],[1,"ui","segment","filter"],[1,"search"],[1,"sizer"],[1,"results"]];},template:function(t,n){t&1&&(o(0,"div",2)(1,"div",3)(2,"div",4),_(3),r(),o(4,"button",5),u("click",function(){return n.onExport();}),M(5,0),r()(),o(6,"div",6)(7,"div",7),E(8,"app-text-filter"),o(9,"div",5),u("click",function(){return n.clear();}),M(10,1),r()(),E(11,"app-language-filter")(12,"app-genre-filter")(13,"app-series-filter")(14,"app-rent-filter"),r(),o(15,"div",8),E(16,"app-page-size-filter")(17,"app-pagination"),r(),E(18,"app-recording-table",9),r()),t&2&&(m(3),X("",n.count,"",n.of,"",n.total,""));},dependencies:[ee,ie,ne,re,ae,le,ce,me],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}.page[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto auto 1fr;row-gap:.5em;width:100%;height:100%;padding:0 1em 1em;overflow:hidden}.page[_ngcontent-%COMP%] > .ui.segment[_ngcontent-%COMP%]{margin:0}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;align-items:center;justify-content:space-between}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%] > .ui.segment[_ngcontent-%COMP%]{margin:0}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-auto-flow:row;row-gap:.5em}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;column-gap:.5em;align-items:center}.page[_ngcontent-%COMP%] > .sizer[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;column-gap:.5em;align-items:center;justify-content:flex-start}.page[_ngcontent-%COMP%] > .results[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}"]});}}return i;})();var Le=[{component:de,path:""}],pe=(()=>{class i{static{this.ɵfac=function(t){return new(t||i)();};}static{this.ɵmod=b({type:i});}static{this.ɵinj=w({imports:[F.forChild(Le),F]});}}return i;})();var Ct=(()=>{class i{static{this.ɵfac=function(t){return new(t||i)();};}static{this.ɵmod=b({type:i});}static{this.ɵinj=w({imports:[K,F,Y,pe]});}}return i;})();export{Ct as RecordingsModule};/**i18n:b271914f691dadc2f8b5c881bd202ccd56c2d40c5c7c5d278b1e99a15b46a6b9*/