import{c as _}from"./chunk-DOCEZV4F.js";import{a as oe}from"./chunk-3UAKMNZR.js";import{b as W}from"./chunk-3ZZA57JK.js";import{a as j}from"./chunk-GCDWTA7B.js";import{a as B}from"./chunk-USKCVYVL.js";import{b as ne,c as re}from"./chunk-3JMWS3XA.js";import{A as O,B as f,C as v,I as T,J as N,L as Q,M as C,N as h,O as S,P as x,Q as z,R as X,S as H,T as J,U as I,V as A,W as Y,X as Z,Y as ee,Z as M,e as q,g as F,j as b,k,ka as te,la as L,n as m,o as d,oa as ie,p as g,pa as y,q as G,s as R,t as c,v as K,w as o,x as s,y as u,z as D}from"./chunk-CJ2PPRXS.js";var Te=["recording",""],Re=n=>({color:n}),Me=(n,t)=>({visible:n,half:t});function ye(n,t){if(n&1&&u(0,"i",4),n&2){let l=v();c("title",l.rent);}}function Pe(n,t){if(n&1&&u(0,"i",5),n&2){let l=v();c("ngStyle",x(1,Re,l.deleteColor));}}function Oe(n,t){if(n&1&&u(0,"i",7),n&2){let l=t.$implicit,e=v(2);c("ngClass",z(1,Me,e.item.rating>=l,e.item.rating==l));}}function Ne(n,t){if(n&1&&(o(0,"div",3),R(1,Oe,1,4,"i",6),s()),n&2){let l=v();m(),c("ngForOf",l.stars);}}function ve(n,t){n&1&&T(0," \xA0 ");}var Ie=W[W.Deleted],se=(()=>{let t=class t{constructor(e,i){this._languages=e,this._genres=i,this.languages="",this.genres="",this.stars=[1,3,5,7,9];}get rent(){return this.item.rentTo||"";}get hasDelete(){return this.item.deleteType!=null;}get deleteColor(){return this.item.deleteType===Ie?"#ff0000":"#ff8000";}ngOnInit(){this._genreQuery=this._genres.map.subscribe(e=>{this.genres=(this.item.genres||[]).map(i=>{var r;return((r=e[i])==null?void 0:r.name)||i;}).sort().join(", ")||"\xA0";}),this._languageQuery=this._languages.map.subscribe(e=>{this.languages=(this.item.languages||[]).map(i=>{var r;return((r=e[i])==null?void 0:r.name)||i;}).sort().join(", ")||"\xA0";});}ngOnDestroy(){var e,i;(e=this._languageQuery)==null||e.unsubscribe(),(i=this._genreQuery)==null||i.unsubscribe();}};t.ɵfac=function(i){return new(i||t)(d(j),d(B));},t.ɵcmp=g({type:t,selectors:[["","recording",""]],inputs:{item:"item"},attrs:Te,decls:20,vars:10,consts:[[1,"icons"],["class","ui icon user outline",3,"title",4,"ngIf"],["class","ui icon close",3,"ngStyle",4,"ngIf"],[1,"rating"],[1,"ui","icon","user","outline",3,"title"],[1,"ui","icon","close",3,"ngStyle"],["class","ui icon star",3,"ngClass",4,"ngFor","ngForOf"],[1,"ui","icon","star",3,"ngClass"]],template:function(i,r){i&1&&(o(0,"td")(1,"div")(2,"div"),T(3),s(),o(4,"div",0),R(5,ye,1,1,"i",1)(6,Pe,1,3,"i",2),s()()(),o(7,"td"),R(8,Ne,2,1,"div",3)(9,ve,1,0),s(),o(10,"td")(11,"div"),T(12),H(13,"date"),s()(),o(14,"td")(15,"div"),T(16),s()(),o(17,"td")(18,"div"),T(19),s()()),i&2&&(m(3),N(r.item.fullName),m(2),c("ngIf",!!r.rent),m(),c("ngIf",r.hasDelete),m(2),K(r.item.rating?8:9),m(4),N(J(13,7,r.item.created,"dd.MM.yyyy HH:mm:ss")),m(4),N(r.languages),m(3),N(r.genres));},dependencies:[M,I,A,Y,Z,ee],styles:["td[_ngcontent-%COMP%]{padding:0 .5em;cursor:pointer}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}td[_ngcontent-%COMP%]:nth-child(1){width:40em;min-width:40em;max-width:40em}td[_ngcontent-%COMP%]:nth-child(1) > div[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;column-gap:.5em;align-items:center}td[_ngcontent-%COMP%]:nth-child(2){display:grid;grid-auto-flow:column;align-items:center;justify-content:center;width:10em;min-width:10em;max-width:10em}td[_ngcontent-%COMP%]:nth-child(2)   i[_ngcontent-%COMP%]{visibility:hidden}td[_ngcontent-%COMP%]:nth-child(2)   i.visible[_ngcontent-%COMP%]{visibility:unset}td[_ngcontent-%COMP%]:nth-child(3){width:12em;min-width:12em;max-width:12em}td[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(5){width:20em;min-width:20em;max-width:20em}"]});let n=t;return n;})();var V=(n,t,l)=>({sorted:n,ascending:t,descending:l}),Ae=n=>["/recordings",n,"EDIT"];function we(n,t){if(n&1&&u(0,"tr",8),n&2){let l=t.$implicit;c("item",l)("routerLink",x(2,Ae,l._id));}}var le=(()=>{let t=class t{get items(){return this._result.view;}constructor(e){this._service=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]};}ngOnInit(){this._query=this._service.result.subscribe(e=>this._result=e);}ngOnDestroy(){var e;(e=this._query)==null||e.unsubscribe();}sort(e){this._service.sort(e);}get ascending(){return this._service.sortOrder==="Ascending";}get sortName(){return this._service.sortColumn==="fullName";}get sortDate(){return this._service.sortColumn==="created";}get sortRating(){return this._service.sortColumn==="rating";}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-recording-table"]],decls:17,vars:16,consts:()=>{let e;e=" Name ";let i;i=" Bewertung ";let r;r=" Erstellt ";let p;p="Sprachen";let a;return a="Kategorien",[e,i,r,p,a,[1,"ui","celled","collapsing","fixed","sortable","striped","unstackable","compact","table"],[3,"click","ngClass"],["recording","",3,"item","routerLink",4,"ngFor","ngForOf"],["recording","",3,"item","routerLink"]];},template:function(i,r){i&1&&(o(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),f("click",function(){return r.sort("fullName");}),O(4,0),s(),o(5,"th",6),f("click",function(){return r.sort("rating");}),O(6,1),s(),o(7,"th",6),f("click",function(){return r.sort("created");}),O(8,2),s(),o(9,"th")(10,"div"),O(11,3),s()(),o(12,"th")(13,"div"),O(14,4),s()()()(),o(15,"tbody"),R(16,we,1,4,"tr",7),s()()),i&2&&(m(3),c("ngClass",X(4,V,r.sortName,r.ascending,!r.ascending)),m(2),c("ngClass",X(8,V,r.sortRating,r.ascending,!r.ascending)),m(2),c("ngClass",X(12,V,r.sortDate,r.ascending,!r.ascending)),m(9),c("ngForOf",r.items));},dependencies:[M,I,A,se,te],encapsulation:2});let n=t;return n;})();var ce=(()=>{let t=class t{constructor(e){this._recordings=e;}get filter(){return this._recordings.fullName;}set filter(e){this._recordings.fullName=e;}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-text-filter"]],decls:1,vars:1,consts:()=>{let e;return e="Suche...",[["hint",e,3,"textChange","text"]];},template:function(i,r){i&1&&(o(0,"semantic-search",0),S("textChange",function(a){return h(r.filter,a)||(r.filter=a),a;}),s()),i&2&&C("text",r.filter);},dependencies:[ne],encapsulation:2});let n=t;return n;})();function w(n,t){return n.pipe(q(l=>Object.keys(l).map(e=>({key:e,text:l[e][t]||e})).sort((e,i)=>e.text.toLocaleLowerCase().localeCompare(i.text.toLocaleLowerCase()))));}var ae=(()=>{let t=class t{constructor(e,i){this._languages=e,this._recordings=i,this.orderedAsItems=[],this._subscription=w(this._languages.map,"name").subscribe(r=>this.orderedAsItems=r);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.language;}set selected(e){this._recordings.language=e;}};t.ɵfac=function(i){return new(i||t)(d(j),d(_));},t.ɵcmp=g({type:t,selectors:[["app-language-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(alle Sprachen)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(i,r){i&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),s()),i&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[y],encapsulation:2});let n=t;return n;})();var de=(()=>{let t=class t{constructor(e,i){this._genres=e,this._recordings=i,this.orderedAsItems=[],this._subscription=w(this._genres.map,"name").subscribe(r=>this.orderedAsItems=r);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.genres||[];}set selected(e){this._recordings.genres=e;}};t.ɵfac=function(i){return new(i||t)(d(B),d(_));},t.ɵcmp=g({type:t,selectors:[["app-genre-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(alle Kategorien)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(i,r){i&1&&(o(0,"semantic-multi-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),s()),i&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[ie],encapsulation:2});let n=t;return n;})();var ge=(()=>{let t=class t{constructor(e,i){this._series=e,this._recordings=i,this.orderedAsItems=[],this._subscription=w(this._series.map,"fullName").subscribe(r=>this.orderedAsItems=r);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.series;}set selected(e){this._recordings.series=e;}};t.ɵfac=function(i){return new(i||t)(d(oe),d(_));},t.ɵcmp=g({type:t,selectors:[["app-series-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(alle Serien)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(i,r){i&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),s()),i&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[y],encapsulation:2});let n=t;return n;})();var me=(()=>{let t=class t{constructor(e){this._recordings=e,this.orderedAsItems=[{key:"1",text:"verliehen"},{key:"0",text:"nicht verliehen"}];}get selected(){return typeof this._recordings.rent=="boolean"?this._recordings.rent?"1":"0":"";}set selected(e){this._recordings.rent=e===""?void 0:e==="1";}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-rent-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(verliehen egal)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(i,r){i&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),s()),i&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[y],encapsulation:2});let n=t;return n;})();function Le(n,t){if(n&1){let l=D();o(0,"a",2),f("click",function(){let i=b(l).$implicit;return k(i.onClick());}),T(1),s();}if(n&2){let l=t.$implicit;c("ngClass",l.className),m(),N(l.count);}}var $e=[15,30,50,75,100,250],_e=(()=>{let t=class t{constructor(e){this._recordingService=e;}get size(){return this._recordingService.pageSize;}get items(){return $e.map(e=>({className:{active:e===this.size,item:!0},count:e,onClick:()=>this._recordingService.pageSize=e}));}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-page-size-filter"]],decls:2,vars:1,consts:[[1,"ui","menu"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(i,r){i&1&&(o(0,"div",0),R(1,Le,2,2,"a",1),s()),i&2&&(m(),c("ngForOf",r.items));},dependencies:[M,I,A],encapsulation:2});let n=t;return n;})();var Fe=(n,t)=>({active:n,disabled:t});function be(n,t){if(n&1){let l=D();o(0,"a",7),f("click",function(){let i=b(l).$implicit,r=v();return k(i.page&&r.setPage(i.page));}),T(1),s();}if(n&2){let l=t.$implicit,e=v();c("ngClass",z(2,Fe,l.page===e.curPage,!l.page)),m(),N(l.page||"...");}}function ke(n,t){let l=[];if(n<1)return l;if(l.push({page:1}),n<8){for(let e=2;e<=n;e++)l.push({page:e});return l;}if(t<=5){for(let e=2;e<=5;e++)l.push({page:e});return l.push({page:void 0}),l.push({page:n}),l;}if(l.push({page:void 0}),t>=n-4){for(let e=n-4;e<=n;e++)l.push({page:e});return l;}for(let e=t-1;e<=t+1;e++)l.push({page:e});return l.push({page:void 0}),l.push({page:n}),l;}var pe=(()=>{let t=class t{constructor(e){this._recordingService=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]},this.maxPage=0,this.pages=[];}get curPage(){return this._recordingService.page+1;}setPage(e){e<1||e>this.maxPage||(this._recordingService.page=e-1);}ngOnInit(){this._recordings=this._recordingService.result.subscribe(e=>{this.maxPage=e.count>0?Math.ceil(e.count/this._recordingService.pageSize):0,this.pages=ke(this.maxPage,this.curPage),this._result=e;});}ngOnDestroy(){var e;(e=this._recordings)==null||e.unsubscribe();}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-pagination"]],decls:10,vars:1,consts:[[1,"ui","pagination","menu"],[1,"item",3,"click"],[1,"ui","icon","angle","double","left"],[1,"ui","icon","angle","left"],["class","item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ui","icon","angle","right"],[1,"ui","icon","angle","double","right"],[1,"item",3,"click","ngClass"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"a",1),f("click",function(){return r.setPage(1);}),u(2,"i",2),s(),o(3,"a",1),f("click",function(){return r.setPage(r.curPage-1);}),u(4,"i",3),s(),R(5,be,2,5,"a",4),o(6,"a",1),f("click",function(){return r.setPage(r.curPage+1);}),u(7,"i",5),s(),o(8,"a",1),f("click",function(){return r.setPage(r.maxPage);}),u(9,"i",6),s()()),i&2&&(m(5),c("ngForOf",r.pages));},dependencies:[M,I,A],encapsulation:2});let n=t;return n;})();var ue=(()=>{let t=class t{constructor(e){this._recordings=e,this.orderedAsItems=[{key:"10",text:"10 Punkte"},{key:"9",text:"mindestens 9 Punkte"},{key:"8",text:"mindestens 8 Punkte"},{key:"7",text:"mindestens 7 Punkte"},{key:"6",text:"mindestens 6 Punkte"},{key:"5",text:"mindestens 5 Punkte"},{key:"4",text:"mindestens 4 Punkte"},{key:"3",text:"mindestens 3 Punkte"},{key:"2",text:"mindestens 2 Punkte"},{key:"1",text:"mindestens 1 Punkt"}];}get selected(){return this._recordings.rating==null?"":`${this._recordings.rating}`;}set selected(e){this._recordings.rating=e===""?void 0:parseInt(e);}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-rating-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(Bewertung egal)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(i,r){i&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),s()),i&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[y],encapsulation:2});let n=t;return n;})();var fe=(()=>{let t=class t{constructor(e){this._recordings=e,this.orderedAsItems=[{key:"0",text:"nicht gel\xF6scht"},{key:"1",text:"gel\xF6scht"},{key:"2",text:"kann gel\xF6scht werden"}];}get selected(){return this._recordings.deleteType!=null?`${this._recordings.deleteType}`:"";}set selected(e){this._recordings.deleteType=e===""?void 0:parseInt(e);}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-delete-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(Sichtbarkeit egal)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(i,r){i&1&&(o(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),s()),i&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[y],encapsulation:2});let n=t;return n;})();var Ce=(()=>{let t=class t{constructor(e){this._service=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]},this.of=" von ";}get total(){return this._result.total;}get count(){return this._result.count;}onExport(){this._service.openExport();}ngOnInit(){this._query=this._service.result.subscribe(e=>this._result=e);}ngOnDestroy(){var e;(e=this._query)==null||e.unsubscribe();}clear(){this._service.reset();}};t.ɵfac=function(i){return new(i||t)(d(_));},t.ɵcmp=g({type:t,selectors:[["app-recordings"]],decls:22,vars:3,consts:()=>{let e;e=" Exportieren ";let i;return i=" Neue Suche ",[e,i,[1,"page"],[1,"headline"],[1,"ui","compact","segment","counts"],[1,"ui","button",3,"click"],[1,"ui","segment","filter"],[1,"search"],[1,"group"],[1,"sizer"],[1,"results"]];},template:function(i,r){i&1&&(o(0,"div",2)(1,"div",3)(2,"div",4),T(3),s(),o(4,"button",5),f("click",function(){return r.onExport();}),O(5,0),s()(),o(6,"div",6)(7,"div",7),u(8,"app-text-filter"),o(9,"div",5),f("click",function(){return r.clear();}),O(10,1),s()(),u(11,"app-language-filter")(12,"app-genre-filter")(13,"app-series-filter"),o(14,"div",8),u(15,"app-rating-filter")(16,"app-rent-filter")(17,"app-delete-filter"),s()(),o(18,"div",9),u(19,"app-page-size-filter")(20,"app-pagination"),s(),u(21,"app-recording-table",10),s()),i&2&&(m(3),Q("",r.count,"",r.of,"",r.total,""));},dependencies:[fe,de,ae,_e,pe,ue,le,me,ge,ce],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}.page[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto auto 1fr;row-gap:.5em;width:100%;height:100%;padding:0 1em 1em;overflow:hidden}.page[_ngcontent-%COMP%] > .ui.segment[_ngcontent-%COMP%]{margin:0}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;align-items:center;justify-content:space-between}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%] > .ui.segment[_ngcontent-%COMP%]{margin:0}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-auto-flow:row;row-gap:.5em}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;column-gap:.5em;align-items:center}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%] > .group[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-auto-columns:1fr;align-items:center;column-gap:1em}.page[_ngcontent-%COMP%] > .sizer[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;column-gap:.5em;align-items:center;justify-content:flex-start}.page[_ngcontent-%COMP%] > .results[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}"]});let n=t;return n;})();var Ge=[{component:Ce,path:""}],he=(()=>{let t=class t{};t.ɵfac=function(i){return new(i||t)();},t.ɵmod=G({type:t}),t.ɵinj=F({imports:[L.forChild(Ge),L]});let n=t;return n;})();var $t=(()=>{let t=class t{};t.ɵfac=function(i){return new(i||t)();},t.ɵmod=G({type:t}),t.ɵinj=F({imports:[M,L,re,he]});let n=t;return n;})();export{$t as RecordingsModule};/**i18n:08c1d4d8c08a2162d727ca9e0c346dc3cd29b4127d277ac11485a3d27068df66*/