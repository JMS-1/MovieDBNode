import{d as p,f as d,h as i,ia as h,ra as m,sa as f,ta as u}from"./chunk-F3XRWPKK.js";function s(r,o=0,c=[]){c.push(r._id),r.level=o++,r.children.forEach(n=>s(n,o,r.allChildren)),c.push(...r.children.map(n=>n._id))}var b=(()=>{let o=class o extends u{get roots(){return this._roots}constructor(n,e,a){super(n,"Series","series","_id name description parentId fullName",e,a),this.ignoredFields=new Set(["__typename","_id","allChildren","children","fullName","level"]),this._roots=new p([]),this.load()}createMap(n){let e=super.createMap(n),a=[];return n.forEach(t=>{t.name=t.name||t._id,t.fullName=t.fullName||t.name,t.allChildren=[],t.children=[]}),n.forEach(t=>{let l=t.parentId?e[t.parentId]:void 0;l?l.children.push(t):a.push(t)}),a.forEach(t=>s(t)),this._roots.next(a),e}ngOnDestroy(){super.ngOnDestroy(),this._roots.complete()}};o.\u0275fac=function(e){return new(e||o)(i(m),i(f),i(h))},o.\u0275prov=d({token:o,factory:o.\u0275fac});let r=o;return r})();export{b as a};
/**i18n:4f0ea12499191b9fb7bfd15ae35102ab286a3db89d761e221a76f1a80285e269*/
