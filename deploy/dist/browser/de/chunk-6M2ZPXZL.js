import{a as D}from"./chunk-GBFN4NUY.js";import{c as f}from"./chunk-3ZZA57JK.js";import{a as _e,b as pe,c as ge}from"./chunk-3JMWS3XA.js";import{a as ue}from"./chunk-QRSEQL3H.js";import{A as m,B as I,C as g,F as Z,G as ee,H as te,I as w,J as F,M,N,O as y,P as u,U as A,V as k,W as ne,Z as ie,ca as oe,da as re,ea as ae,fa as se,g as b,ha as le,i as Q,j as h,k as O,ka as G,l as K,la as L,ma as ce,n as s,na as de,o as P,p as C,pa as me,q as U,r as H,s as v,t as l,u as J,w as a,x as c,y as p,z as V}from"./chunk-CJ2PPRXS.js";var ye={[f.Box]:"briefcase",[f.Disk]:"hdd",[f.FeatureSet]:"zip",[f.Folder]:"folder",[f.Shelf]:"building",[f.Undefined]:"help"},X=(()=>{let n=class n{constructor(){this.type=f.Undefined;}get iconType(){return ye[this.type]||"help";}};n.ɵfac=function(t){return new(t||n)();},n.ɵcmp=C({type:n,selectors:[["app-container-icon"]],inputs:{type:"type"},standalone:!1,decls:1,vars:1,consts:[[1,"ui","icon",3,"ngClass"]],template:function(t,i){t&1&&p(0,"i",0),t&2&&l("ngClass",i.iconType);},dependencies:[A],encapsulation:2});let o=n;return o;})();var Re=["selector"],Ee=(()=>{let n=class n{constructor(){this.selected=f.Undefined,this.selectedChange=new K();}setSelected(e){var t,i;(i=$((t=this.selector)==null?void 0:t.nativeElement))==null||i.dropdown("set exactly",typeof e=="number"?`${e}`:[]);}ngAfterViewInit(){var t;let e=$((t=this.selector)==null?void 0:t.nativeElement);e.dropdown({forceSelection:!1,onChange:i=>this.selectedChange.emit(parseInt(i,10))}),setTimeout(()=>{this.setSelected(this.selected),e.css("visibility","");},100);}ngOnChanges(e){let t=e.selected;t&&this.setSelected(t.currentValue);}ngOnDestroy(){var e,t;(t=$((e=this.selector)==null?void 0:e.nativeElement))==null||t.dropdown("destroy");}};n.ɵfac=function(t){return new(t||n)();},n.ɵcmp=C({type:n,selectors:[["app-component-type"]],viewQuery:function(t,i){if(t&1&&Z(Re,5),t&2){let _;ee(_=te())&&(i.selector=_.first);}},inputs:{selected:"selected"},outputs:{selectedChange:"selectedChange"},standalone:!1,features:[Q],decls:29,vars:6,consts:()=>{let e;e="(unbekannt)";let t;t="Kleine DVD Box";let i;i="Gro\xDFe DVD Box";let _;_="Regal(fach)";let d;d="Dateiverzeichnis";let E;return E="(Externe) Festplatte",[["selector",""],e,t,i,_,d,E,[1,"ui","selection","dropdown",2,"visibility","hidden"],[1,"dropdown","icon"],[1,"default","text"],[1,"menu"],["data-value","0",1,"item"],[3,"type"],["data-value","1",1,"item"],["data-value","2",1,"item"],["data-value","3",1,"item"],["data-value","5",1,"item"],["data-value","4",1,"item"]];},template:function(t,i){t&1&&(a(0,"div",7,0),p(2,"i",8)(3,"div",9),a(4,"div",10)(5,"div",11),p(6,"app-container-icon",12),a(7,"span"),m(8,1),c()(),a(9,"div",13),p(10,"app-container-icon",12),a(11,"span"),m(12,2),c()(),a(13,"div",14),p(14,"app-container-icon",12),a(15,"span"),m(16,3),c()(),a(17,"div",15),p(18,"app-container-icon",12),a(19,"span"),m(20,4),c()(),a(21,"div",16),p(22,"app-container-icon",12),a(23,"span"),m(24,5),c()(),a(25,"div",17),p(26,"app-container-icon",12),a(27,"span"),m(28,6),c()()()()),t&2&&(s(6),l("type",0),s(4),l("type",1),s(4),l("type",2),s(4),l("type",3),s(4),l("type",5),s(4),l("type",4));},dependencies:[X],styles:[".ui.selection.dropdown[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:12em}"]});let o=n;return o;})();var Te=o=>({disabled:o}),Ae=o=>({errors:o}),x=o=>({error:o}),Ie=o=>["/recordings",o,"EDIT"];function we(o,n){if(o&1){let r=V();a(0,"div",27),I("click",function(){h(r);let t=g(2);return O(t.onRemove());}),m(1,8),c();}}function $e(o,n){if(o&1&&(a(0,"tr",30)(1,"td"),w(2),c(),a(3,"td",31),w(4),c()()),o&2){let r=n.$implicit;l("routerLink",u(3,Ie,r._id)),s(2),F(r.fullName),s(2),F(r.containerPosition);}}function Fe(o,n){if(o&1&&(a(0,"table",28)(1,"thead")(2,"tr")(3,"th"),m(4,9),c(),a(5,"th"),m(6,10),c()()(),a(7,"tbody"),v(8,$e,5,5,"tr",29),c()()),o&2){let r=g(2);s(8),l("ngForOf",r.contents);}}function Le(o,n){if(o&1){let r=V();a(0,"div")(1,"div",12)(2,"div",13),I("click",function(){h(r);let t=g();return O(t.reload());}),m(3,0),c(),a(4,"div",14),I("click",function(){h(r);let t=g();return O(t.onSave());}),m(5,1),c(),v(6,we,2,0,"div",15),c(),a(7,"div",16)(8,"div",17)(9,"label"),m(10,2),c(),a(11,"semantic-single-select",18),y("selectedChange",function(t){h(r);let i=g();return N(i.parentId,t)||(i.parentId=t),O(t);}),c()(),p(12,"app-validation-errors",19),a(13,"div",20)(14,"label"),m(15,3),c(),a(16,"div",21)(17,"input",22),y("ngModelChange",function(t){h(r);let i=g();return N(i.name,t)||(i.name=t),O(t);}),c()()(),p(18,"app-validation-errors",19),a(19,"div",20)(20,"label"),m(21,4),c(),a(22,"app-component-type",23),y("selectedChange",function(t){h(r);let i=g();return N(i.type,t)||(i.type=t),O(t);}),c()(),p(23,"app-validation-errors",19),a(24,"div",17)(25,"label"),m(26,5),c(),a(27,"div",21)(28,"textarea",24),y("ngModelChange",function(t){h(r);let i=g();return N(i.description,t)||(i.description=t),O(t);}),c()()(),p(29,"app-validation-errors",19),a(30,"div",17)(31,"label"),m(32,6),c(),a(33,"div",21)(34,"input",22),y("ngModelChange",function(t){h(r);let i=g();return N(i.parentLocation,t)||(i.parentLocation=t),O(t);}),c()()(),p(35,"app-validation-errors",19),c(),v(36,Fe,9,1,"table",25),a(37,"app-semantic-modal",26),I("closed",function(){h(r);let t=g();return O(t.confirm=!1);})("confirm",function(){h(r);let t=g();return O(t.onConfirm());}),m(38,7),c()();}if(o&2){let r=g();s(2),l("ngClass",u(22,Te,!r.edit.isDirty)),s(2),l("ngClass",u(24,Te,!r.edit.isDirty||r.edit.validationErrors)),s(2),l("ngIf",r.editId),s(),l("ngClass",u(26,Ae,r.edit.validationErrors)),s(),l("ngClass",u(28,x,r.edit.validationErrors==null?null:r.edit.validationErrors.parentId)),s(3),l("items",r.parentAsItems),M("selected",r.parentId),s(),l("list",r.edit.validationErrors==null?null:r.edit.validationErrors.parentId),s(),l("ngClass",u(30,x,r.edit.validationErrors==null?null:r.edit.validationErrors.name)),s(4),M("ngModel",r.name),s(),l("list",r.edit.validationErrors==null?null:r.edit.validationErrors.name),s(),l("ngClass",u(32,x,r.edit.validationErrors==null?null:r.edit.validationErrors.type)),s(3),M("selected",r.type),s(),l("list",r.edit.validationErrors==null?null:r.edit.validationErrors.type),s(),l("ngClass",u(34,x,r.edit.validationErrors==null?null:r.edit.validationErrors.description)),s(4),M("ngModel",r.description),s(),l("list",r.edit.validationErrors==null?null:r.edit.validationErrors.description),s(),l("ngClass",u(36,x,r.edit.validationErrors==null?null:r.edit.validationErrors.parentLocation)),s(4),M("ngModel",r.parentLocation),s(),l("list",r.edit.validationErrors==null?null:r.edit.validationErrors.parentLocation),s(),l("ngIf",r.contents.length>0),s(),l("show",r.confirm);}}var Oe=(()=>{let n=class n extends ue{getEditService(){return this._service;}constructor(e){super(),this._service=e,this._map={},this.contents=[],this.parentAsItems=[];}reload(){super.reload();let e=this._contents;e&&(this._contents=void 0,e.unsubscribe()),this.contents=[];let t=new Set(),i=_=>{t.add(_._id);for(let d of _.children||[])i(d);};if(this.editId&&this.editId!=="@"){let _=this._map[this.editId];_&&i(_),this._contents=this._service.getContents(this.editId).subscribe(d=>this.contents=d);}this.parentAsItems=Object.keys(this._map).filter(_=>!t.has(_)).map(_=>this._map[_]).sort((_,d)=>_.fullName.toLocaleLowerCase().localeCompare(d.fullName.toLocaleLowerCase())).map(_=>({key:_._id,text:_.fullName}));}ngOnInit(){super.ngOnInit(),this._all=this._service.map.subscribe(e=>{this._map=e,this.reload();});}ngOnDestroy(){var e,t;super.ngOnDestroy(),(e=this._all)==null||e.unsubscribe(),(t=this._contents)==null||t.unsubscribe();}onSave(){this.edit&&this._service.addOrUpdate(this.editId,this.edit);}onConfirm(){this._service.remove(this.editId),this.confirm=!1;}get name(){var e;return((e=this.edit)==null?void 0:e.name)||"";}set name(e){this.edit&&(this.edit.name=e);}get description(){var e;return((e=this.edit)==null?void 0:e.description)||"";}set description(e){this.edit&&(this.edit.description=e);}get parentId(){var e;return((e=this.edit)==null?void 0:e.parentId)||"";}set parentId(e){this.edit&&(this.edit.parentId=e||void 0);}get parentLocation(){var e;return((e=this.edit)==null?void 0:e.parentLocation)||"";}set parentLocation(e){this.edit&&(this.edit.parentLocation=e);}get type(){var e;return((e=this.edit)==null?void 0:e.type)??f.Undefined;}set type(e){this.edit&&(this.edit.type=e);}};n.ɵfac=function(t){return new(t||n)(P(D));},n.ɵcmp=C({type:n,selectors:[["app-container-form"]],standalone:!1,features:[H],decls:1,vars:1,consts:()=>{let e;e="(keine)";let t;t=" Verwerfen ";let i;i=" Speichern ";let _;_="\xDCbergeordnete Ablage";let d;d="Name";let E;E="Art der Ablage";let S;S="Beschreibung";let W;W="Position in der \xFCbergeordneten Ablage";let B;B=" Das L\xF6schen einer Ablage kann nicht r\xFCckg\xE4ngig gemacht werden. Soll die Ablage wirklich endg\xFCltig entfernt werden? ";let Y;Y=" L\xF6schen ";let j;j="Aufzeichnung";let q;return q="Position",[t,i,_,d,E,S,W,B,Y,j,q,[4,"ngIf"],[1,"actions"],[1,"ui","button",3,"click","ngClass"],[1,"ui","primary","button",3,"click","ngClass"],["class","ui negative button",3,"click",4,"ngIf"],[1,"ui","form",3,"ngClass"],[1,"field",3,"ngClass"],["hint",e,3,"selectedChange","items","selected"],[3,"list"],[1,"required","field",3,"ngClass"],[1,"ui","input"],["type","text",3,"ngModelChange","ngModel"],[3,"selectedChange","selected"],["rows","5",3,"ngModelChange","ngModel"],["class","ui celled collapsing fixed striped unstackable compact table contents",4,"ngIf"],[3,"closed","confirm","show"],[1,"ui","negative","button",3,"click"],[1,"ui","celled","collapsing","fixed","striped","unstackable","compact","table","contents"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[2,"text-align","center"]];},template:function(t,i){t&1&&v(0,Le,39,38,"div",11),t&2&&l("ngIf",i.edit);},dependencies:[G,A,k,ne,ce,oe,re,ae,de,me,Ee],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding-right:.5em;overflow:auto}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{cursor:pointer}"]});let o=n;return o;})();var be=o=>["/containers",o],Se=(()=>{let n=class n{constructor(){this.container=void 0;}};n.ɵfac=function(t){return new(t||n)();},n.ɵcmp=C({type:n,selectors:[["app-container-item"]],inputs:{container:"container"},standalone:!1,decls:4,vars:5,consts:[[1,"item",3,"routerLink"],[3,"type"],[1,"content"]],template:function(t,i){t&1&&(a(0,"div",0),p(1,"app-container-icon",1),a(2,"div",2),w(3),c()()),t&2&&(l("routerLink",u(3,be,i.container._id)),s(),l("type",i.container.type),s(2),F(i.container.name));},dependencies:[G,X],styles:["[_nghost-%COMP%]{overflow:hidden}.item[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:center;overflow:hidden}.item[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]});let o=n;return o;})();var ke=o=>({active:o});function Ge(o,n){if(o&1&&p(0,"app-container-item",4),o&2){let r=n.$implicit,e=g();J("margin-left: "+r.level+"em"),l("ngClass",u(4,ke,r._id===e.selected))("container",r);}}var Me=(()=>{let n=class n{constructor(e){this._service=e,this.selected="",this.items=[],this.map={},this.all=[],this._filter="";}ngOnInit(){this._query=this._service.map.subscribe(e=>{let t=Object.keys(e).map(d=>e[d]).filter(d=>!d.parentId||!e[d.parentId]);t.sort((d,E)=>(d.name||d._id).toLocaleLowerCase().localeCompare((E.name||E._id).toLocaleLowerCase()));let i=[],_=d=>{var E;i.push(d),(E=d.children)==null||E.forEach(_);};t.forEach(_),this.all=i,this.map=e,this.refreshFilter();});}get filter(){return this._filter;}set filter(e){this._filter=e,this.refreshFilter();}refreshFilter(){let e=(this._filter||"").toLocaleLowerCase(),t=new Set(this.all.filter(i=>!e||(i.fullName||i.name||i._id).toLocaleLowerCase().indexOf(e)>=0).map(i=>i._id));for(let i of Array.from(t))for(;;){let _=this.map[i];if(!_)break;t.add(i),i=_.parentId||"";}this.items=this.all.filter(i=>t.has(i._id));}ngOnDestroy(){var e;(e=this._query)==null||e.unsubscribe();}};n.ɵfac=function(t){return new(t||n)(P(D));},n.ɵcmp=C({type:n,selectors:[["app-container-list"]],inputs:{selected:"selected"},standalone:!1,decls:4,vars:3,consts:()=>{let e;return e="Suche...",[[1,"complete"],["hint",e,3,"textChange","text","clearable"],[1,"ui","selection","list"],["class","item",3,"ngClass","container","style",4,"ngFor","ngForOf"],[1,"item",3,"ngClass","container"]];},template:function(t,i){t&1&&(a(0,"div",0)(1,"semantic-search",1),y("textChange",function(d){return N(i.filter,d)||(i.filter=d),d;}),c(),a(2,"div",2),v(3,Ge,1,6,"app-container-item",3),c()()),t&2&&(s(),M("text",i.filter),l("clearable",!0),s(2),l("ngForOf",i.items));},dependencies:[A,k,pe,Se],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:auto}.complete[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;height:100%;overflow:hidden}.complete[_ngcontent-%COMP%] > .ui.list[_ngcontent-%COMP%]{row-gap:10em;padding:.5em;overflow:auto;background:#fff}.complete[_ngcontent-%COMP%] > .ui.list[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-top:.5em}.complete[_ngcontent-%COMP%] > .ui.list[_ngcontent-%COMP%] > .item[_ngcontent-%COMP%]:not(.active):not(:hover){color:#666;background:#ddd}"]});let o=n;return o;})();var z=(()=>{let n=class n{constructor(e){this._route=e,this.selected="";}ngOnInit(){this._query=this._route.params.subscribe(e=>this.selected=e.id);}ngOnDestroy(){var e;(e=this._query)==null||e.unsubscribe();}};n.ɵfac=function(t){return new(t||n)(P(le));},n.ɵcmp=C({type:n,selectors:[["app-container"]],standalone:!1,decls:3,vars:2,consts:[[1,"page"],["list","",3,"selected"],["detail","",3,"selected"]],template:function(t,i){t&1&&(a(0,"app-master-detail",0),p(1,"app-container-list",1)(2,"app-container-form",2),c()),t&2&&(s(),l("selected",i.selected),s(),l("selected",i.selected));},dependencies:[_e,Oe,Me],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}.page[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]});let o=n;return o;})();var Xe=[{component:z,path:"",pathMatch:"full"},{component:z,path:":id"}],Ne=(()=>{let n=class n{};n.ɵfac=function(t){return new(t||n)();},n.ɵmod=U({type:n}),n.ɵinj=b({imports:[L.forChild(Xe),L]});let o=n;return o;})();var Tt=(()=>{let n=class n{};n.ɵfac=function(t){return new(t||n)();},n.ɵmod=U({type:n}),n.ɵinj=b({imports:[Ne,ie,ge,L,se]});let o=n;return o;})();export{Tt as ContainerModule};/**i18n:08c1d4d8c08a2162d727ca9e0c346dc3cd29b4127d277ac11485a3d27068df66*/