import{a as re}from"./chunk-OYTAITU3.js";import{c as m}from"./chunk-74P2JWHE.js";import{a as ie}from"./chunk-TY5WUM4V.js";import{b}from"./chunk-F36R7FHD.js";import{a as ne}from"./chunk-ERDWGD3P.js";import{a as P}from"./chunk-SAYNTU2D.js";import{a as W}from"./chunk-4PRDFOU3.js";import{a as j}from"./chunk-LIRNRG52.js";import"./chunk-NEZMX32X.js";import{F as D,G as x,Ga as te,H as z,I as Q,J as v,K as O,L as c,M as s,N as l,O as u,R as L,S as N,T as f,V as A,ba as E,ca as I,ea as H,f as q,fa as C,ga as h,ha as S,ja as k,ka as X,la as B,m as w,ma as J,n as $,na as Y,u as K,ua as R,v as g,wa as Z,x as d,xa as ee,y as _,ya as M}from"./chunk-VMUMGGBD.js";var Ee=["recording",""],Te=i=>({color:i}),Re=(i,t)=>({visible:i,half:t});function Me(i,t){if(i&1&&u(0,"i",1),i&2){let o=A();c("title",o.rent);}}function Pe(i,t){if(i&1&&u(0,"i",2),i&2){let o=A();c("ngStyle",k(1,Te,o.deleteColor));}}function ye(i,t){if(i&1){let o=L();s(0,"a",5),f("click",function(n){return w(o),$(n.stopPropagation());}),u(1,"i",6),l();}if(i&2){let o=t.$implicit;c("title",o.name)("href",o.url,K);}}function ve(i,t){if(i&1&&u(0,"i",7),i&2){let o=t.$implicit,e=A(2);c("ngClass",X(1,Re,e.item.rating>=o,e.item.rating==o));}}function Oe(i,t){if(i&1&&(s(0,"div",4),v(1,ve,1,4,"i",7,Q),l()),i&2){let o=A();g(),O(o.stars);}}function Ne(i,t){i&1&&E(0," \xA0 ");}var oe=b[b.Deleted],Ie=b[b.Deletable],se=(()=>{let t=class t{constructor(e,n){this._languages=e,this._genres=n,this.languages="",this.genres="",this.stars=[1,3,5,7,9];}get rent(){return this.item.rentTo||"";}get hasDelete(){return this.item.deleteType===oe||this.item.deleteType===Ie;}get deleteColor(){return this.item.deleteType===oe?"#ff0000":"#ffc000";}ngOnInit(){this._genreQuery=this._genres.map.subscribe(e=>{this.genres=(this.item.genres||[]).map(n=>{var r;return((r=e[n])==null?void 0:r.name)||n;}).sort().join(", ")||"\xA0";}),this._languageQuery=this._languages.map.subscribe(e=>{this.languages=(this.item.languages||[]).map(n=>{var r;return((r=e[n])==null?void 0:r.name)||n;}).sort().join(", ")||"\xA0";});}ngOnDestroy(){var e,n;(e=this._languageQuery)==null||e.unsubscribe(),(n=this._genreQuery)==null||n.unsubscribe();}};t.ɵfac=function(n){return new(n||t)(d(W),d(j));},t.ɵcmp=_({type:t,selectors:[["","recording",""]],inputs:{item:"item"},attrs:Ee,decls:22,vars:10,consts:[[1,"icons"],[1,"ui","icon","user","outline",3,"title"],[1,"ui","icon","close",3,"ngStyle"],["target","_blank",3,"title","href"],[1,"rating"],["target","_blank",3,"click","title","href"],[1,"ui","icon","external","alternate"],[1,"ui","icon","star",3,"ngClass"]],template:function(n,r){n&1&&(s(0,"td")(1,"div")(2,"div"),E(3),l(),s(4,"div",0),D(5,Me,1,1,"i",1),D(6,Pe,1,3,"i",2),v(7,ye,2,2,"a",3,z),l()()(),s(9,"td"),D(10,Oe,3,0,"div",4)(11,Ne,1,0),l(),s(12,"td")(13,"div"),E(14),J(15,"date"),l()(),s(16,"td")(17,"div"),E(18),l()(),s(19,"td")(20,"div"),E(21),l()()),n&2&&(g(3),I(r.item.fullName),g(2),x(r.rent?5:-1),g(),x(r.hasDelete?6:-1),g(),O(r.item.links),g(3),x(r.item.rating?10:11),g(4),I(Y(15,7,r.item.created,"dd.MM.yyyy HH:mm:ss")),g(4),I(r.languages),g(3),I(r.genres));},dependencies:[M,R,Z,ee],styles:["td[_ngcontent-%COMP%]{padding:0 .5em;cursor:pointer}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}td[_ngcontent-%COMP%]:nth-child(1){width:40em;min-width:40em;max-width:40em}td[_ngcontent-%COMP%]:nth-child(1) > div[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;column-gap:.5em;align-items:center}td[_ngcontent-%COMP%]:nth-child(2){display:grid;grid-auto-flow:column;align-items:center;justify-content:center;width:10em;min-width:10em;max-width:10em}td[_ngcontent-%COMP%]:nth-child(2)   i[_ngcontent-%COMP%]{visibility:hidden}td[_ngcontent-%COMP%]:nth-child(2)   i.visible[_ngcontent-%COMP%]{visibility:unset}td[_ngcontent-%COMP%]:nth-child(3){width:12em;min-width:12em;max-width:12em}td[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(5){width:20em;min-width:20em;max-width:20em}"]});let i=t;return i;})();var V=(i,t,o)=>({sorted:i,ascending:t,descending:o}),Ae=i=>["/recordings",i,"EDIT"],we=(i,t)=>t._id;function $e(i,t){if(i&1&&u(0,"tr",8),i&2){let o=t.$implicit;c("item",o)("routerLink",k(2,Ae,o._id));}}var le=(()=>{let t=class t{get items(){return this._result.view;}constructor(e){this._service=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]};}ngOnInit(){this._query=this._service.result.subscribe(e=>this._result=e);}ngOnDestroy(){var e;(e=this._query)==null||e.unsubscribe();}sort(e){this._service.sort(e);}get ascending(){return this._service.sortOrder==="Ascending";}get sortName(){return this._service.sortColumn==="fullName";}get sortDate(){return this._service.sortColumn==="created";}get sortRating(){return this._service.sortColumn==="rating";}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-recording-table"]],decls:19,vars:15,consts:()=>{let e;e=" Name ";let n;n=" Bewertung ";let r;r=" Erstellt ";let p;p="Sprachen";let a;return a="Kategorien",[e,n,r,p,a,[1,"container"],[1,"ui","celled","collapsing","fixed","sortable","striped","unstackable","compact","table"],[3,"click","ngClass"],["recording","",3,"item","routerLink"]];},template:function(n,r){n&1&&(s(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),f("click",function(){return r.sort("fullName");}),N(5,0),l(),s(6,"th",7),f("click",function(){return r.sort("rating");}),N(7,1),l(),s(8,"th",7),f("click",function(){return r.sort("created");}),N(9,2),l(),s(10,"th")(11,"div"),N(12,3),l()(),s(13,"th")(14,"div"),N(15,4),l()()()(),s(16,"tbody"),v(17,$e,1,4,"tr",8,we),l()()()),n&2&&(g(4),c("ngClass",B(3,V,r.sortName,r.ascending,!r.ascending)),g(2),c("ngClass",B(7,V,r.sortRating,r.ascending,!r.ascending)),g(2),c("ngClass",B(11,V,r.sortDate,r.ascending,!r.ascending)),g(9),O(r.items));},dependencies:[M,R,se,te],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto}.container[_ngcontent-%COMP%] > table[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%] > table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff}"]});let i=t;return i;})();var ae=(()=>{let t=class t{constructor(e){this._recordings=e;}get filter(){return this._recordings.fullName;}set filter(e){this._recordings.fullName=e;}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-text-filter"]],decls:1,vars:1,consts:()=>{let e;return e="Suche...",[["hint",e,3,"textChange","text"]];},template:function(n,r){n&1&&(s(0,"semantic-search",0),S("textChange",function(a){return h(r.filter,a)||(r.filter=a),a;}),l()),n&2&&C("text",r.filter);},dependencies:[ne],encapsulation:2});let i=t;return i;})();function F(i,t){return i.pipe(q(o=>Object.keys(o).map(e=>({key:e,text:o[e][t]||e})).sort((e,n)=>e.text.toLocaleLowerCase().localeCompare(n.text.toLocaleLowerCase()))));}var ce=(()=>{let t=class t{constructor(e,n){this._languages=e,this._recordings=n,this.orderedAsItems=[],this._subscription=F(this._languages.map,"name").subscribe(r=>this.orderedAsItems=r);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.language;}set selected(e){this._recordings.language=e;}};t.ɵfac=function(n){return new(n||t)(d(W),d(m));},t.ɵcmp=_({type:t,selectors:[["app-language-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(alle Sprachen)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(n,r){n&1&&(s(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),l()),n&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[P],encapsulation:2});let i=t;return i;})();var de=(()=>{let t=class t{constructor(e,n){this._genres=e,this._recordings=n,this.orderedAsItems=[],this._subscription=F(this._genres.map,"name").subscribe(r=>this.orderedAsItems=r);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.genres||[];}set selected(e){this._recordings.genres=e;}};t.ɵfac=function(n){return new(n||t)(d(j),d(m));},t.ɵcmp=_({type:t,selectors:[["app-genre-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(alle Kategorien)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(n,r){n&1&&(s(0,"semantic-multi-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),l()),n&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[re],encapsulation:2});let i=t;return i;})();var ge=(()=>{let t=class t{constructor(e,n){this._series=e,this._recordings=n,this.orderedAsItems=[],this._subscription=F(this._series.map,"fullName").subscribe(r=>this.orderedAsItems=r);}ngOnDestroy(){this._subscription.unsubscribe();}get selected(){return this._recordings.series;}set selected(e){this._recordings.series=e;}};t.ɵfac=function(n){return new(n||t)(d(ie),d(m));},t.ɵcmp=_({type:t,selectors:[["app-series-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(alle Serien)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(n,r){n&1&&(s(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),l()),n&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[P],encapsulation:2});let i=t;return i;})();var _e=(()=>{let t=class t{constructor(e){this._recordings=e,this.orderedAsItems=[{key:"1",text:"verliehen"},{key:"0",text:"nicht verliehen"}];}get selected(){return typeof this._recordings.rent=="boolean"?this._recordings.rent?"1":"0":"";}set selected(e){this._recordings.rent=e===""?void 0:e==="1";}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-rent-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(verliehen egal)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(n,r){n&1&&(s(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),l()),n&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[P],encapsulation:2});let i=t;return i;})();function Le(i,t){if(i&1){let o=L();s(0,"a",2),f("click",function(){let n=w(o).$implicit;return $(n.onClick());}),E(1),l();}if(i&2){let o=t.$implicit;c("ngClass",o.className),g(),I(o.count);}}var ke=[15,30,50,75,100,250],me=(()=>{let t=class t{constructor(e){this._recordingService=e;}get size(){return this._recordingService.pageSize;}get items(){return ke.map(e=>({className:{active:e===this.size,item:!0},count:e,onClick:()=>this._recordingService.pageSize=e}));}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-page-size-filter"]],decls:3,vars:0,consts:[[1,"ui","menu"],[3,"ngClass"],[3,"click","ngClass"]],template:function(n,r){n&1&&(s(0,"div",0),v(1,Le,2,2,"a",1,z),l()),n&2&&(g(),O(r.items));},dependencies:[M,R],encapsulation:2});let i=t;return i;})();var Fe=(i,t)=>({active:i,disabled:t}),be=(i,t)=>t.page;function Ge(i,t){if(i&1){let o=L();s(0,"a",7),f("click",function(){let n=w(o).$implicit,r=A();return $(n.page&&r.setPage(n.page));}),E(1),l();}if(i&2){let o=t.$implicit,e=A();c("ngClass",X(2,Fe,o.page===e.curPage,!o.page)),g(),I(o.page||"...");}}function De(i,t){let o=[];if(i<1)return o;if(o.push({page:1}),i<8){for(let e=2;e<=i;e++)o.push({page:e});return o;}if(t<=5){for(let e=2;e<=5;e++)o.push({page:e});return o.push({page:void 0}),o.push({page:i}),o;}if(o.push({page:void 0}),t>=i-4){for(let e=i-4;e<=i;e++)o.push({page:e});return o;}for(let e=t-1;e<=t+1;e++)o.push({page:e});return o.push({page:void 0}),o.push({page:i}),o;}var pe=(()=>{let t=class t{constructor(e){this._recordingService=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]},this.maxPage=0,this.pages=[];}get curPage(){return this._recordingService.page+1;}setPage(e){e<1||e>this.maxPage||(this._recordingService.page=e-1);}ngOnInit(){this._recordings=this._recordingService.result.subscribe(e=>{this.maxPage=e.count>0?Math.ceil(e.count/this._recordingService.pageSize):0,this.pages=De(this.maxPage,this.curPage),this._result=e;});}ngOnDestroy(){var e;(e=this._recordings)==null||e.unsubscribe();}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-pagination"]],decls:11,vars:0,consts:[[1,"ui","pagination","menu"],[1,"item",3,"click"],[1,"ui","icon","angle","double","left"],[1,"ui","icon","angle","left"],[1,"item",3,"ngClass"],[1,"ui","icon","angle","right"],[1,"ui","icon","angle","double","right"],[1,"item",3,"click","ngClass"]],template:function(n,r){n&1&&(s(0,"div",0)(1,"a",1),f("click",function(){return r.setPage(1);}),u(2,"i",2),l(),s(3,"a",1),f("click",function(){return r.setPage(r.curPage-1);}),u(4,"i",3),l(),v(5,Ge,2,5,"a",4,be),s(7,"a",1),f("click",function(){return r.setPage(r.curPage+1);}),u(8,"i",5),l(),s(9,"a",1),f("click",function(){return r.setPage(r.maxPage);}),u(10,"i",6),l()()),n&2&&(g(5),O(r.pages));},dependencies:[M,R],encapsulation:2});let i=t;return i;})();var ue=(()=>{let t=class t{constructor(e){this._recordings=e,this.orderedAsItems=[{key:"10",text:"10 Punkte"},{key:"9",text:"mindestens 9 Punkte"},{key:"8",text:"mindestens 8 Punkte"},{key:"7",text:"mindestens 7 Punkte"},{key:"6",text:"mindestens 6 Punkte"},{key:"5",text:"mindestens 5 Punkte"},{key:"4",text:"mindestens 4 Punkte"},{key:"3",text:"mindestens 3 Punkte"},{key:"2",text:"mindestens 2 Punkte"},{key:"1",text:"mindestens 1 Punkt"}];}get selected(){return this._recordings.rating==null?"":`${this._recordings.rating}`;}set selected(e){this._recordings.rating=e===""?void 0:parseInt(e);}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-rating-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(Bewertung egal)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(n,r){n&1&&(s(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),l()),n&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[P],encapsulation:2});let i=t;return i;})();var fe=(()=>{let t=class t{constructor(e){this._recordings=e,this.orderedAsItems=[{key:"0",text:"nicht gel\xF6scht"},{key:"1",text:"gel\xF6scht"},{key:"2",text:"kann gel\xF6scht werden"}];}get selected(){return this._recordings.deleteType!=null?`${this._recordings.deleteType}`:"";}set selected(e){this._recordings.deleteType=e===""?void 0:parseInt(e);}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-delete-filter"]],decls:1,vars:2,consts:()=>{let e;return e="(Sichtbarkeit egal)",[["hint",e,3,"selectedChange","items","selected"]];},template:function(n,r){n&1&&(s(0,"semantic-single-select",0),S("selectedChange",function(a){return h(r.selected,a)||(r.selected=a),a;}),l()),n&2&&(c("items",r.orderedAsItems),C("selected",r.selected));},dependencies:[P],encapsulation:2});let i=t;return i;})();var xe=i=>({hideFilter:i}),Ce=(()=>{let t=class t{constructor(e){this._service=e,this._result={correlationId:"",count:0,genres:[],languages:[],total:0,view:[]},this.of="von",this.hideFilter=!1;}get total(){return this._result.total;}get count(){return this._result.count;}onExport(){this._service.openExport();}ngOnInit(){this._query=this._service.result.subscribe(e=>this._result=e);}ngOnDestroy(){var e;(e=this._query)==null||e.unsubscribe();}clear(){this._service.reset();}};t.ɵfac=function(n){return new(n||t)(d(m));},t.ɵcmp=_({type:t,selectors:[["app-recordings"]],decls:25,vars:7,consts:()=>{let e;e=" Exportieren ";let n;return n=" Neue Suche ",[e,n,[1,"page"],[1,"headline"],[1,"ui","compact","segment","counts"],[1,"ui","icons",3,"click"],[1,"filter","icon"],[1,"corner","icon",3,"ngClass"],[1,"ui","button",3,"click"],[1,"ui","segment","filter",3,"ngClass"],[1,"search"],[1,"group"],[1,"sizer"],[1,"results"]];},template:function(n,r){n&1&&(s(0,"div",2)(1,"div",3)(2,"div",4),E(3),l(),s(4,"i",5),f("click",function(){return r.hideFilter=!r.hideFilter;}),u(5,"i",6)(6,"i",7),l(),s(7,"button",8),f("click",function(){return r.onExport();}),N(8,0),l()(),s(9,"div",9)(10,"div",10),u(11,"app-text-filter"),s(12,"div",8),f("click",function(){return r.clear();}),N(13,1),l()(),u(14,"app-language-filter")(15,"app-genre-filter")(16,"app-series-filter"),s(17,"div",11),u(18,"app-rating-filter")(19,"app-rent-filter")(20,"app-delete-filter"),l()(),s(21,"div",12),u(22,"app-page-size-filter")(23,"app-pagination"),l(),u(24,"app-recording-table",13),l()),n&2&&(g(3),H(" ",r.count,"\xA0",r.of,"\xA0",r.total," "),g(3),c("ngClass",r.hideFilter?"plus":"minus"),g(3),c("ngClass",k(5,xe,r.hideFilter)));},dependencies:[M,R,fe,de,ce,me,pe,ue,le,_e,ge,ae],styles:["[_nghost-%COMP%]{width:100%;height:100%;overflow:hidden}.page[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto auto 1fr;row-gap:.5em;width:100%;height:100%;padding:0 1em 1em;overflow:hidden}.page[_ngcontent-%COMP%] > .ui.segment[_ngcontent-%COMP%]{margin:0}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto 1fr;align-items:center;column-gap:.5em}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%] > .ui.icons[_ngcontent-%COMP%]{text-align:left}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%] > .ui.segment[_ngcontent-%COMP%]{margin:0}.page[_ngcontent-%COMP%] > .headline[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{justify-self:flex-end}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto;grid-auto-flow:row;row-gap:.5em}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;column-gap:.5em;align-items:center}.page[_ngcontent-%COMP%] > .filter[_ngcontent-%COMP%] > .group[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-auto-columns:1fr;align-items:center;column-gap:1em}.page[_ngcontent-%COMP%] > .filter.hideFilter[_ngcontent-%COMP%]{display:none}.page[_ngcontent-%COMP%] > .sizer[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;column-gap:.5em;align-items:center;justify-content:flex-start}.page[_ngcontent-%COMP%] > .results[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]});let i=t;return i;})();var At=[{component:Ce,path:""}];export{At as recordingsRoutes};/**i18n:ca2b98f88e038f658fd3a013647fb90822f69a47c44668dd041b701a047489a6*/