{"version":3,"sources":["api/media.ts"],"names":[],"mappings":";;AAAA,qCAAgC;AAIhC,mCAA2C;AAE3C,6CAA+D;AAElD,QAAA,QAAQ,GAAG,gBAAM,EAAE,CAAC,GAAG,CAChC,QAAQ,EACR,gBAAM,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,CAC1C,yBAAiB,CACb,KAAK,IAAI,EAAE;IACP,MAAM,KAAK,GAAG,MAAM,uBAAe,CAAC,KAAK,EAAE,CAAA;IAE3C,OAAuB;QACnB,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,kBAAU,CAAC;KAC/B,CAAA;AACL,CAAC,EACD,OAAO,EACP,QAAQ,CACX,CACJ,CACJ,CAAA","file":"media.js","sourcesContent":["import { Router } from 'express'\n\nimport { IMediaResponse } from 'movie-db-api'\n\nimport { processApiRequest } from './utils'\n\nimport { mediaCollection, toProtocol } from '../database/media'\n\nexport const mediaApi = Router().use(\n    '/media',\n    Router().get('/', (request, response, next) =>\n        processApiRequest(\n            async () => {\n                const media = await mediaCollection.query()\n\n                return <IMediaResponse>{\n                    media: media.map(toProtocol),\n                }\n            },\n            request,\n            response,\n        ),\n    ),\n)\n"],"sourceRoot":"/home/jochenmanns/Software/git/MovieDBNode/Server/src"}