{"version":3,"sources":["../src/database/container.ts"],"names":[],"mappings":";;;;;AAAA,oDAAoF;AACpF,mCAAwC;AAExC,0CAAoC;AAEvB,QAAA,mBAAmB,GAAG,IAAI,CAAC,KAAM,SAAQ,sBAA4B;IAA1C;;QAC3B,SAAI,GAAG,0BAAc,CAAA;QAErB,WAAM,GAAG,2BAAe,CAAA;IA2BrC,CAAC;IAzBG,KAAK,CAAC,OAAO,CAAC,GAAQ;QAClB,MAAM,SAAS,GAAiB;YAC5B,GAAG,EAAE,GAAG,CAAC,EAAE;YACX,IAAI,EAAE,GAAG,CAAC,IAAI,IAAI,EAAE;YACpB,IAAI,EAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;SAC/B,CAAA;QAED,IAAI,GAAG,CAAC,WAAW,EAAE;YACjB,SAAS,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,CAAA;SAC1C;QAED,IAAI,GAAG,CAAC,MAAM,EAAE;YACZ,SAAS,CAAC,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAA;SAClC;QAED,IAAI,GAAG,CAAC,cAAc,EAAE;YACpB,SAAS,CAAC,cAAc,GAAG,GAAG,CAAC,cAAc,CAAA;SAChD;QAED,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;QAE3C,IAAI,MAAM,EAAE;YACR,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAA;SAC1C;IACL,CAAC;CACJ,CAAC,EAAE,CAAA","file":"container.js","sourcesContent":["import { collectionName, ContainerSchema, IDbContainer } from './entities/container'\nimport { CollectionBase } from './utils'\n\nexport * from './entities/container'\n\nexport const containerCollection = new (class extends CollectionBase<IDbContainer> {\n    readonly name = collectionName\n\n    readonly schema = ContainerSchema\n\n    async migrate(sql: any): Promise<void> {\n        const container: IDbContainer = {\n            _id: sql.Id,\n            name: sql.Name || '',\n            type: parseInt(sql.Type, 10),\n        }\n\n        if (sql.Description) {\n            container.description = sql.Description\n        }\n\n        if (sql.Parent) {\n            container.parentId = sql.Parent\n        }\n\n        if (sql.ParentLocation) {\n            container.parentLocation = sql.ParentLocation\n        }\n\n        const errors = await this.insert(container)\n\n        if (errors) {\n            throw new Error(JSON.stringify(errors))\n        }\n    }\n})()\n"],"sourceRoot":"/home/jochenmanns/Software/git/MovieDBNode/Server/build"}